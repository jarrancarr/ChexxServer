package tutor

import (
	"encoding/json"
	"log"
	"net/http"

	"github.com/jarrancarr/ChexxServer/utils"
)

type Step struct {
	Title      string     `json:"title"`
	Width      int8       `json:"width"`
	PosX       int8       `json:"posX"`
	PosY       int8       `json:"posY"`
	Background string     `json:"background"`
	Text       []string   `json:"text"`
	White      []string   `json:"white"`
	Black      []string   `json:"black"`
	Hilite     [][]string `json:"hilite"`
	Log        []string   `json:"log"`
	Answer     [][]string `json:"answer"`
	Order      []string   `json:"order"`
	Hint       []string   `json:"hint"`
	Audio      string     `json:"audio"`
}

type Lesson struct {
	Step []Step `json:"step"`
}

var Lessons map[string]Lesson = map[string]Lesson{
	"Intro": {
		Step: []Step{
			{Title: "Welcome to Chexx", Width: 70, PosX: 50, PosY: 50, Background: "#002020a0", Log: []string{}, Audio: "testing",
				Black: []string{"Qf31", "Kf33", "Ea31", "Ia33", "Pf4", "Nf53", "Ba4", "Aa53", "Sb4"},
				White: []string{"Qd33", "Kd31", "Ec33", "Ic31", "Pe4", "Nd53", "Bd4", "Ac53", "Sc4"},
				Text: []string{
					"h1:::Chexx is Chess varient.", "h3:::Chexx is played on a hexagonal board, and here are the types of pieces at your command.",
					"You might find some familiar, and others not so."}},
			{Title: "Chess Pieces", Width: 70, PosX: 50, PosY: 50, Background: "#f0f02050",
				Black: []string{"Qf31", "Kf33", "Pf4", "Nf53", "Ba4", "Sb4"},
				White: []string{""},
				Text: []string{"h2:::There are 9 types of pieces.  Five correspond rather directly from Chess.",
					"Pawn: marches forward, attacks to the forward flanks.",
					"Knight: two spaces along a column and one to the right or left.",
					"Bishop: straignt alongs diagonals until blocked.",
					"Rook: straight along columns",
					"Queen: combines the power of the Rook and Bishop.",
					"King: one space in any direction.",
				}},
			{Title: "New Pieces", Width: 70, PosX: 50, PosY: 50, Background: "#f0f02050",
				Black: []string{"Ea31", "Ia33", "Aa53", "Sb4"},
				White: []string{},
				Text: []string{"h2:::The 4 remaining pieces you might find quite derivative.",
					"Spearman: like Pawns, but attacks to the forward diagonals instead of forward flanks.",
					"Archer: similar to Knights, but instead of two spaces along a column, they take three spaces, then and one to the right or left.",
					"Prince: A Rook and a Knight.",
					"Princess: The Bishop and Archer.",
				}},
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#00f0f050",
				Black: []string{"Qf31", "Kf33", "Ea31", "Ia33", "Pf4", "Nf53", "Ba4", "Aa53", "Sb4"},
				White: []string{"Qd33", "Kd31", "Ec33", "Ic31", "Pe4", "Nd53", "Bd4", "Ac53", "Sc4"},
				Text:  []string{"If you do have any Chess experience, you will find very little conceptually that is terribly different.  Only after a few games you should be comfortable with the hexagonal layout.  Things that are actually different is still quite derivitive from existing Chess concepts, so you should have no trouble learning them."}},
			{Title: "White Army", Width: 40, PosX: 50, PosY: 40,
				White: []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Black: []string{},
				Text:  []string{"You have 8 Pawns and 5 Spearmen. Three each of Rooks, Bishops, Knights and Archers.  Then of course, one Prince, Princess, Queen and King"}},
			{Width: 40, PosX: 50, PosY: 40,
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Black:  []string{},
				Text:   []string{"The 8 pawns..."},
				Hilite: [][]string{{"d55 d44 d33 d21 c22 c31 c41 Pc51", "stroke", "#ff4"}}},
			{Width: 40, PosX: 50, PosY: 40,
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Black:  []string{},
				Text:   []string{"... 5 spearmen,"},
				Hilite: [][]string{{"d43 d32 d2 c32 c42", "stroke", "#ff4"}}},
			{Width: 40, PosX: 50, PosY: 40,
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Black:  []string{},
				Text:   []string{"3 Knights (red), 3 Bishops (blue), 3 Rooks (yellow), and 3 Archers (green)..."},
				Hilite: [][]string{{"d53 d51 c33", "stroke", "#f00"}, {"c53 c55 d52", "stroke", "#00f"}, {"d54 d5 c52", "stroke", "#ff0"}, {"d42 d3 c43", "stroke", "#0f0"}}},
			{Width: 40, PosX: 50, PosY: 40,
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Black:  []string{},
				Text:   []string{"...and the Royal family:", "The Prince on his horse, the Princess with her bow,", "and of course, his magisty, the King and her royal highness, the Queen."},
				Hilite: [][]string{{"d41 c44 d31 d4", "stroke", "#a0f"}}},
			{Width: 40, PosX: 50, PosY: 60,
				White: []string{},
				Black: []string{"Ra5", "Rf52", "Ra54", "Nf53", "Nf55", "Na31", "Ba53", "Ba51", "Bf54", "Qf44", "Ka41", "If33", "Ea4", "Pf51", "Pf41", "Pf31", "Pf22", "Pa21", "Pa33", "Pa44", "Pa55", "Sf42", "Sf32", "Sa2", "Sa32", "Sa43", "Af43", "Aa3", "Aa42"},
				Text:  []string{"Black has the identical army."}},
		},
	},

	"Quick": {
		Step: []Step{
			{Title: "Quick Start", Width: 70, PosX: 50, PosY: 58, Background: "#b02020a0", Log: []string{}, Order: []string{"menu tutor"},
				Black: []string{"Ra5", "Rf52", "Ra54", "Nf53", "Nf55", "Na31", "Ba53", "Ba51", "Bf54", "Qf44", "Ka41", "If33", "Ea4", "Pf51", "Pf41", "Pf31", "Pf22", "Pa21", "Pa33", "Pa44", "Pa55", "Sf42", "Sf32", "Sa2", "Sa32", "Sa43", "Af43", "Aa3", "Aa42"},
				White: []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Text:  []string{"h2:::The match begins in this opening position.", "White moves first."}},
			{Title: "Pieces", Width: 80, PosX: 50, PosY: 15, Background: "#b02020a0", Log: []string{},
				Black: []string{},
				White: []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Text:  []string{"h2:::Select each piece in turn to understand how each works."},
				Answer: [][]string{{"", "Nope.", "30,80,6,#f00,#20202070"},
					{"d55 d44 d33 d21 c22 c31 c41 c51", "This is a Pawn.  It attacks to the side flanks.||Move forward one space if free.||From any Pawn/Spearman starting position||he can move 2 spaces.", "10,25,4,#ff0,#000000a0", "cw|Pe1||hl|#f00|e21 e||hl|#0f0|e11 c2 b22||hl|#0ff|c31"},
					{"d43 d32 d2 c32 c42 d54", "This is a Spearman.  It attacks to the side diagonals.||Move forward one space if free.||From any Pawn/Spearman starting position||he can move 2 spaces.", "10,25,4,#ff0,#000000a0", "cw|Se1||hl|#f00|e22 f||hl|#0f0|e11 c21 c1||hl|#0ff|c32"},
					{"d53 d51 c33", "This is a Knight.", "10,25,4,#ff0,#000000a0", "cw|Nb21||hl|#ff0|* a a21 a32 a44 b4 b52 b53 b44 c3 c21 c11"},
					{"d42 d3 c43", "This is an Archer.", "10,25,4,#ff0,#000000a0", "cw|Ab21||hl|#ff0|e f11 a2 a42 a54 b5 b55 d1"},
					{"c53 c55 d52", "This is a Bishop.", "70,25,4,#ff0,#000000a0", "cw|Be22||hl|#ff0|f21 f e1 e31 e43 f3||hl|#bb0|f33 b e4 f51||hl|#880|b21||hl|#550|b42"},
					{"d54 d5 c52", "This is a Rook.", "70,25,4,#ff0,#000000a0", "cw|Rb11||hl|#ff0|b b1 b21 b22 c1 c||hl|#bb0|a22 b31 b33 c21 d a||hl|#880|a32 b41 b44 d11 f11||hl|#550|a42 b51 b55 d22 f21"},
					{"c44", "This is the King.", "70,25,4,#ff0,#000000a0", "cw|Rb11||hl|#ff0|b b1 b21 b22 c1 c21"},
					{"d41", "This is the Queen.", "70,25,4,#ff0,#000000a0", "cw|Qb11||hl|#ff0|b b1 b21 b22 c1 c * a11 b2 b32 c2 c11||hl|#bb0|a22 b31 b33 c21 d a e11 a2 a44 b53||hl|#880|a32 b41 b44 d11 f11 e32 f44||hl|#550|a42 b51 b55 d22 f21 e53"},
					{"d4", "This is the Princess.||The Archer and Biship combined.   ", "10,25,4,#ff0,#000000a0", "cw|Eb11||hl|#ff0|* a11 b2 b32 c2 c11||hl|#bb0|e11 a2 a44 b53||hl|#880|e32 f44||hl|#550|f21 e53||hl|#f0f|e f11 a2 a42 a54 b5 b55 d1"},
					{"d31", "This is the Prince.||The Rook and Knight combined..   ", "10,25,4,#ff0,#000000a0", "cw|Ib11||hl|#ff0|b b1 b21 b22 c1 c||hl|#bb0|a22 b31 b33 c21 d a||hl|#880|a32 b41 b44 d11 f11||hl|#550|a42 b51 b55 d22 f21||hl|#f0f|e f a1 a21 a33 b3 b42 b43 c3 d1"},
				},
			},
			{Title: "Pawns and Spearmen", Width: 70, PosX: 50, PosY: 40, Background: "#b02020a0", Log: []string{},
				Black:  []string{"Ra5", "Rf52", "Ra54", "Nf53", "Nf55", "Na31", "Ba53", "Ba51", "Bf54", "Qf44", "Ka41", "If33", "Ea4", "Pf51", "Pf41", "Pf31", "Pf22", "Pa21", "Pa33", "Pa44", "Pa55", "Sf42", "Sf32", "Sa2", "Sa32", "Sa43", "Af43", "Aa3", "Aa42"},
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Text:   []string{"h2:::Pawns move only forward one or two spaces.  Only from a Pawn or Spearmen opening position may a pawn move two spaces.", "The two space option is still available even after a move once, if they happen to move to another's 'opening position'."},
				Hilite: [][]string{{"d55 d44 d33 d21 c22 c31 c41 Pc51 d43 d32 d2 c32 c42", "stroke", "#ff4"}}},
			{Title: "Chess Pieces", Width: 70, PosX: 50, PosY: 50, Background: "#f0f02050",
				Black: []string{"Qf31", "Kf33", "Pf4", "Nf53", "Ba4", "Sb4"},
				White: []string{""},
				Text: []string{"h2:::There are 9 types of pieces.  Five correspond rather directly from Chess.",
					"Pawn: marches forward, attacks to the forward flanks.",
					"Knight: two spaces along a column and one to the right or left.",
					"Bishop: straignt alongs diagonals until blocked.",
					"Rook: straight along columns",
					"Queen: combines the power of the Rook and Bishop.",
					"King: one space in any direction.",
				}},
		},
	},
	"Interface": {
		Step: []Step{
			{Title: "Interface", Width: 40, PosX: 70, PosY: 30, Background: "#f0f02050", Order: []string{"menu tutor", "draw circle 91,8,8,#F00"}, Log: []string{},
				Black: []string{}, White: []string{},
				Text: []string{"All help and tutorials are accessed through the <?> menu in the upper right.", "When selected, all the individual tutorials are shown in the black circular area."}},
			{Title: "Main Menu", Width: 40, PosX: 70, PosY: 60, Background: "#f0f02050",
				Black: []string{}, White: []string{}, Order: []string{"menu main", "draw circle 91,91,8,#F00"},
				Text: []string{"On the lower right, it the main menu.", "Here is where you will find access to logging in, matches and quite a bit more."}},
			{Title: "Clocks", Width: 40, PosX: 30, PosY: 50, Background: "#f0f02050",
				Black: []string{}, White: []string{}, Order: []string{"menu ", "draw circle 9,9,8,#F00", "draw circle 9,91,8,#F00"},
				Text: []string{"To the left of the board are the clocks.",
					"During a match, you will see how much time you have left.  Also, you move isn't confirmed until you tap your clock.  Until then, your move will not be final and your clock will run down.",
					"There are two hands on the clock.  The larger black one is your move clock.  It will circle once around and stop.  Then, the red hand begins to count down.  This is your game clock.  Once it reaches the top, its game over... you lost."}},
			{Title: "Ledger", Width: 55, PosX: 50, PosY: 50, Background: "#00606090",
				Black: []string{}, White: []string{},
				Log: []string{"Pc31~b22", "Nf53~f21", "Id31~d", "Sa32~a22", "IdxSa2", "Qf44xIa2", "Ed4~c11", "Aa3~f"},
				Text: []string{"The thick black ring around the board has a few purposes.",
					"You will have notices that menu options are shown here.",
					"During a match, though, it records each move with tabs that circle the board.  Hovinging over one highlights that move on the board.  Clicking on a tab will give detailed information about the move."}},
		},
	},
	"Rules": {
		Step: []Step{
			{Title: "Rules", Width: 70, PosX: 50, PosY: 50, Background: "#20202050", Log: []string{},
				Black: []string{}, White: []string{},
				Text: []string{"A Chexx match begins with White making the first move and then each side makes a legal moves in turn until the game and ends in checkmate, stalemate, draw, timeout, surrender.",
					"The ultimate goal of each player is to achieve checkmate.  Checkmate is when you are attacking the opponent's King and there is no move that can free him of an attack.",
					"Lest you can achieve checkmate, stalemate might be your next option.  If you can manage to position your King in such a way as to be safe, but any move you make will check your King, meaning he is attacked."}},
		},
	},
	"Board": {
		Step: []Step{
			{Title: "Battlefield", Width: 70, PosX: 50, PosY: 50, Background: "#00000010", Order: []string{"menu tutor"},
				Black: []string{}, White: []string{}, Log: []string{},
				Text: []string{"The Chexx battlefield is set on a hexagonal grid.  Black spaces, white spaces and neutral spaces."}},
			{Title: "Compass Rose", Width: 70, PosX: 50, PosY: 65, Background: "#00000010", Black: []string{}, White: []string{}, Hilite: [][]string{{"*", "stroke", "#ff0"}},
				Text: []string{"The dead center of the is marked with a gold medallion... the 'compass rose'.", "Notated by '*'."}},

			{Title: "Columns", Width: 25, PosX: 10, PosY: 50, Background: "#999999a0", Black: []string{}, White: []string{},
				Hilite: [][]string{{"a5 a4 a3 a2 a1 a * d d1 d2 d3 d4 d5", "stroke", "#ff0"}, {"a52 a42 a32 a22 b1 b11 c1 c21 c32 c43 c54", "stroke", "#0f0"}, {"f54 f43 f32 f21 f1 e11 e1 d22 d32 d42 d52", "stroke", "#00f"}},
				Text: []string{
					"If you remember from chess, rows run horizontal and columns run vertical.  On the Hexagonal grid, it is bit different... there are still vertical columns.",
					"Highlighted in yellow, is the center vertical column.",
					"In green is the a52~c54 column, and in blue, the f54~d52 column"}},
			{Title: "", Width: 20, PosX: 15, PosY: 15, Background: "#888888a0", Black: []string{}, White: []string{},
				Hilite: [][]string{{"a5 a4 a3 a2 a1 a d d1 d2 d3 d4 d5", "stroke", "#ff0"}, {"b5 b4 b3 b2 b1 b e e1 e2 e3 e4 e5", "stroke", "#08f"}, {"c5 c4 c3 c2 c1 c f f1 f2 f3 f4 f5", "stroke", "#0F4"}},
				Text:   []string{"But columns are a bit more arbitrary on this trilinear topology...", "Lets keep the central vertical column in yellow, but will add the other columns that run through the center."}},

			{Title: "", Width: 20, PosX: 15, PosY: 15, Background: "#888888a0", Black: []string{}, White: []string{},
				Hilite: [][]string{{"a5 a4 a3 a2 a1 a d d1 d2 d3 d4 d5", "stroke", "#ff0"}, {"b5 b4 b3 b2 b1 b e e1 e2 e3 e4 e5", "stroke", "#08f"}, {"c5 c4 c3 c2 c1 c f f1 f2 f3 f4 f5", "stroke", "#0F4"}},
				Text:   []string{"Given this 3 axis format, rows and column coordinate system is less than ideal.", "So we introduce a new coordinate system."}},

			{Title: "", Width: 60, PosX: 50, PosY: 90, Background: "#888888a0", Black: []string{}, White: []string{},
				Hilite: [][]string{
					{"a55 a54 a53 a53 a51 a5 a44 a43 a42 a41 a4 a33 a32 a31 a3 a22 a21 a2 a11 a1 a", "stroke", "#f00"},
					{"b55 b54 b53 b53 b51 b5 b44 b43 b42 b41 b4 b33 b32 b31 b3 b22 b21 b2 b11 b1 b", "stroke", "#ff0"},
					{"c55 c54 c53 c53 c51 c5 c44 c43 c42 c41 c4 c33 c32 c31 c3 c22 c21 c2 c11 c1 c", "stroke", "#0f0"},
					{"d55 d54 d53 d53 d51 d5 d44 d43 d42 d41 d4 d33 d32 d31 d3 d22 d21 d2 d11 d1 d", "stroke", "#0ff"},
					{"e55 e54 e53 e53 e51 e5 e44 e43 e42 e41 e4 e33 e32 e31 e3 e22 e21 e2 e11 e1 e", "stroke", "#00f"},
					{"f55 f54 f53 f53 f51 f5 f44 f43 f42 f41 f4 f33 f32 f31 f3 f22 f21 f2 f11 f1 f", "stroke", "#f0f"}},
				Text: []string{"The battlefield is divided into 6 regions... A through F.", "'A' in red, 'B' in yellow, 'C' in green, 'D' in cyan, 'E' in blue and 'F' in purple."}},

			{Title: "", Width: 70, PosX: 50, PosY: 85, Background: "#888888a0", Order: []string{"menu tutor"},
				Hilite: [][]string{{"a b c d e f", "stroke", "#fff"}},
				Black:  []string{}, White: []string{"Nd32"},
				Text: []string{"Surrounding the compass rose <*> at the center of the board: a,b,c,d,e,f make up the center ring...",
					"so a pawn just above <*> is notated: 'Pa'", "A Bishop, to the upper left of <*> is denoted as 'Bf'"}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#888888a0", Order: []string{"menu tutor"},
				Hilite: [][]string{{"d32", "stroke", "#00f"}},
				Black:  []string{}, White: []string{"Nd32"},
				Text:   []string{"The Knight highlighted in red wants to go to <d>, since he is already selected, move him to now..."},
				Answer: [][]string{{"", "That is not how a knight even moves.", "22,60,4,#F66,#000"}, {"d", "Thats the correct position.", "15,60,4,#6F6,#FF0"}, {"e c22 c33 d51 d55 e4 e31 e21", "The Knight can move there, but that is not where he want to be.", "25,70,4,#aa6,#000"}},
				Hint:   []string{"Its next to the compass rose.||22,60,4,#F66,#000"}},

			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#00000010",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},

			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#00000010",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Pawn": {
		Step: []Step{
			{Title: "Pawn", Width: 70, PosX: 50, PosY: 45, Background: "#20a0a070", Order: []string{"menu tutor"},
				Black: []string{"Pa31", "Pf33"}, White: []string{"Pc33", "Pd31"},
				Text: []string{"The lowly, humble pawn.  They are your front line; first to fight and to die for their King.  Alone, they are weak and vulnerable, but united, their formitability dictates the course of battle.",
					"The pawn is the most fundamental aspect of Chexx.  They will be the focus of you strategy since what tactics you employ by the other pieces will be derived from the positioning of your pawn structure."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 40, Background: "#20a0a070",
				Black: []string{}, White: []string{"Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51"},
				Text: []string{"h2:::Here are all of White's pawns on their staring positions."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Black: []string{}, White: []string{"Pc41"},
				Text: []string{"h2:::This is the 'c41' pawn."}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Hilite: [][]string{{"c3 b33", "stroke", "#0f0"}},
				Black:  []string{}, White: []string{"Pc41"},
				Text: []string{"h4:::(If Chess is familiar to you, then this will be as you might expect...)",
					"The green space ahead of him, is where he can move.  Since this is a 'starting position', he can move either 1 or 2 spaces "}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Hilite: [][]string{{"b33", "stroke", "#0f0"}},
				Black:  []string{}, White: []string{"Pc3"},
				Text: []string{"Once he has moved off a starting position, he moves only one space at a time."}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Black: []string{"Pc3"}, White: []string{"Pc41"},
				Text: []string{"Now his path must be free... this pawn cannot move; he is blocked."}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Hilite: [][]string{{"c3", "stroke", "#0f0"}},
				Black:  []string{}, White: []string{"Pc41", "Pb33"},
				Text: []string{"Your own pieces are also obstacles... This pawn at least can move one space."}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Hilite: [][]string{{"c4 c31", "stroke", "#f00"}},
				Black:  []string{}, White: []string{"Pc41"},
				Text: []string{"Pawns march forward. But they do not attack forward. They attack to the sides... the forward sides;  and only when an enemy piece is there."}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Hilite: [][]string{{"d1", "stroke", "#f00"}, {"c11 c", "stroke", "#0f0"}, {"c21", "stroke", "#f0f"}},
				Black:  []string{"Pd1"}, White: []string{"Pc22"},
				Text: []string{"This pawn has an enemy to his left.  He has three options:",
					"1. Take the enemy pawn at <d1>.", "2. March forward to <c11>.", "3. Charge forward 2 spaces to <c>.",
					"He can't go to the purple space (<c21>) since there is no enemy piece there."}},

			{Title: "Knowledge Check", Width: 70, PosX: 50, PosY: 20, Background: "#20a0a070",
				Black: []string{},
				White: []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pe41", "Pe3", "Pd33", "Pd21", "Pc", "Pc2", "Pc41", "Pc4", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Text:  []string{"h2:::Select the pawns that may still charge."},
				Answer: [][]string{{"", "Incorrect.", "39,38,6,#f80,#00000050"},
					{"e41 e3 c c2 c4", "That pawn has already moved.   ", "13,38,6,#f80,#00000050"},
					{"d54 d5 c52", "That is a Rook.||You will learn about that piece is a later tutorial.", "10,38,4,#f80,#00000050"},
					{"d43 d32 d2 c32 c42", "That is a Spearman.||You will learn him in the next tutorial.", "20,38,4,#f80,#00000050"},
					{"d53 d51 c33", "That is a Knight.||You will learn about that piece is a later tutorial.", "10,38,4,#f80,#00000050"},
					{"c53 d55 d52", "That is a Bishop.||You will learn about that piece is a later tutorial.", "10,38,4,#f80,#00000050"},
					{"d42 d3 c43", "That is an Archer.||You will learn about that piece is a later tutorial.", "10,38,4,#f80,#00000050"},
					{"d41", "That is the Queen.||You will learn about her in a later tutorial.", "15,38,4,#f80,#00000050"},
					{"c44", "That is the King.||You will learn about her in a later tutorial.", "15,38,4,#f80,#00000050"},
					{"d31", "That is the Prince.||You will learn about her in a later tutorial.", "15,38,4,#f80,#00000050"},
					{"d4", "That is the Princess.||You will learn about her in a later tutorial.", "15,38,4,#f80,#00000050"},
					{"d33 d21 c41", "Good job.||Those pawns may move 2 spaces.", "8,38,6,#0fa,#00000050", "+||hl|#0f0|e2 e21 d11 e c3 b33", "3|P|#f0f"}},
			},
			{Title: "Knowledge Check", Width: 70, PosX: 50, PosY: 20, Background: "#20a0a070",
				Black: []string{"Pe32", "Pe1", "Pd", "Pc1", "Pb55", "Pb32"},
				White: []string{"Pe3", "Pd11", "Pc21", "Pc4"},
				Text:  []string{"h2:::Select all the spaces where these pawns may attack?"},
				Answer: [][]string{{"", "You seeing dead people?", "20,38,6,#f80,#00000050"},
					{"e3 d11 c21 c4", "We are not moving just yet.  ", "18,38,6,#f80,#00000050"},
					{"e32", "No, I am safe from your attack.", "5,44,4,#f80,#00000050"},
					{"b32", "Are you kiding me?   ", "60,44,4,#f80,#00000050"},
					{"e1 d b55", "Yes! These may each be taken.   ", "20,38,5,#08f,#00000050", "+", "3|P|#f00"},
					{"c1", "We are too evenly matched to gain or lose any ground.   ", "10,38,4,#f80,#00000070"}},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 40, Background: "#20a0a070",
				Hilite: [][]string{{"c32 d2", "stroke", "#00f"}},
				Black:  []string{}, White: []string{"Pc32", "Pc44", "Pd41", "Pd3"},
				Text: []string{"h2:::Joining the <d1> pawn, are <c22> and <d21> pawns to the rear flanks.", "Since the <c22> and <d21> pawns 'attack' the <d1> space, occupied by one of their own, that <d1> pawn is said to be guarded by the <c22> and <d21> pawns.  What this really means is that if the <d1> pawn were taken, there could be... consequesnce."}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Black: []string{"Ne31", "Bc11"}, White: []string{"Pe2", "Pc22"},
				Text: []string{"h2:::Select the pawn that can attack."},
				Answer: [][]string{
					{"e2", "Very good.||The pawn at <e2> attacks the Knight.  ||Also, note that since this pawn is not on a||starting space, he could only move forward||one space.", "38,40,3,#6F6,#50505080", "hl|#0f0|e21||hl|#f00|e31"},
					{"c22", "That is not right.|| From <c22>, the pawn only moves forward    ||if the space is free.", "18,40,4,#6F6,#50505050"}},
				Hint: []string{"How do you like your cheval cooked?||25,80,3,#0f0,#000"},
			},

			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#20a0a070",
				Black: []string{"Ne31", "Bf3"}, White: []string{"Pe3", "Pd33", "Pe1", "Pe", "Pc22"},
				Hilite: [][]string{{"e1", "stroke", "#f00"}, {"f3", "stroke", "#f0f"}},
				Text:   []string{"h2:::Moving a piece involves first selecting one, then selecting a destination.", "h3:::Your pawn at <e1> (in red), is threatened by Black's Bishop (in purple).  Shore up defenses and hold the line."},
				Answer: [][]string{
					{"e3 d33 e1 e", "", "", "~"},
					{"c22", "There is nowhere that lone pawn can go to improve defences.", "15,35,4,#6F6,#50505050"},
					{"d33~e2", "Right.||A Pawn formation like this is an effective||battlefront. That Knight will likely flee.||<e1> might breath a bit easier now that <e2>||has his back.", "40,35,3,#6F6,#50505050", "-||hl|#0f0|e21||hl|#f00|e31"},
					{"d33~e21", "A bold advance. But charging forward so in this||instance, misses an opportunity for a formitable||defensive strategy.", "15,35,4,#6F6,#50505050", "-"},
					{"e3~e31 e1~e11 e~f", "Breaking up a formation further only||weakens your position.", "15,35,4,#6F6,#50505050", "-"}},
				Hint: []string{"One pawn has been left behind, but could join a wedge.||25,80,3,#0f0,#000", "One move can threaten a Knight.||25,80,3,#0f0,#000", "A gap in a line of pawns is a weakness.||25,80,3,#0f0,#000"},
			},
			{Title: "Pawn Formations", Width: 70, PosX: 50, PosY: 40, Background: "#20a0a070",
				Hilite: [][]string{{"d3 d31", "stroke", "#ff0"}, {"c22 c32 c42", "stroke", "#00f"}},
				Black:  []string{}, White: []string{"Pc22", "Pc32", "Pc42", "Pd3", "Pd31"},
				Text: []string{"h2:::Pawns that protect each other in such a formation are said to be a 'pawn chain'.",
					"Such a configuration can be quite formitable.  Used wisely, these formation can cost many times what these individual pawns are worth.",
					"There are 2 pawn chains here: one in yellow, and one in blue.", "h2:::The only completely vulnerable pawns are the 'base' pawns. Can you select them?"},
				Answer: [][]string{
					{"c22", "No, <c32> protects me!  ", "12,62,4,#6F6,#50505050", "hl|#0ff|c32"},
					{"c32", "No, <c42> protects me!  ", "12,62,4,#6F6,#50505050", "hl|#0ff|c42"},
					{"d31", "No, <d3> protects me!  ", "12,62,4,#6F6,#50505050", "hl|#0ff|d3"},
					{"c42", "Correct! ", "12,62,4,#6F6,#50505050"},
					{"d3", "Correct! ", "12,62,4,#6F6,#50505050"}},
				Hint: []string{"A 'base' pawn has no backup.||25,80,3,#0f0,#000"},
			},

			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#20a0a070",
				Black: []string{"Pa1", "Pf11", "Pa11", "Pa22", "Pa33"}, White: []string{"Pc22", "Pc32", "Pc42", "Pd2", "Pd31"},
				Text: []string{"h2:::You will play White... select the lead pawn, and move him forward one space."},
				Answer: [][]string{{"", "Incorrect.", "25,60,6,#f00,#20202050"},
					{"a1 f11 a11 a22 a33", "Those pawns don't belong to your army.   ", "10,52,5,#6F6,#80808040"},
					{"c22 c32 c42 d2 d31", "", "", "~"}, {"c22~c", "Not that far.", "30,60,4,#6F6,#50505050"},
					{"c22~c11", "Ok, good start.", "25,60,4,#4dd,#a0a0a0a0", "-"}},
				Hint: []string{"A good leader leads by first doing.||25,90,3,#0f0,#000"},
			},

			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#20a0a070",
				Black: []string{"Pa", "Pf11", "Pa11", "Pa22", "Pa33"}, White: []string{"Pc11", "Pc32", "Pc42", "Pd2", "Pd31"},
				Text: []string{"h3:::Nice.... the pawn advances forward 1 space,  but now, that lead pawn is all by himself.  Quite unfortunate for a pawn.",
					"Our strategy is to disrupt blacks ranks with a right flank attack.  So Pc32 will take the lead.  Now on a pawn's starting position, he can optionally charge forward two spaces.  From then on, he marches on with his signular focus, one space at a time.",
					"h2:::Overtake the lead pawn with his right support pawn!"},
				Answer: [][]string{{"", "Incorrect.", "25,60,6,#f00,#20202050"},
					{"a f11 a11 a22 a33", "Don't presume to command me!  You are the enemy!    ", "8,51,4,#f00,#00330060"},
					{"c11 c32 c42 d2 d31", "", "", "~"},
					{"c32~c21", "<c32> is meant for greatness!  Be bold an move that extra space.  ", "10,55,3,#af4,#00000030", "-"},
					{"c32~c1", "Brilliant!", "67,63,6,#6f6,#ff00ff44", "-"}},
				Hint: []string{"Look at pawns that might take the lead by moving 2 spaces forward.||5,100,3,#0f0,#000"},
			},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Black: []string{"Pa", "Pf11", "Pa11", "Pa22", "Pb2"}, White: []string{"Pc11", "Pc1", "Pc42", "Pd2", "Pd31"},
				Text: []string{"h2:::Your new lead pawn will need more back-up.  Support his right flank."},
				Answer: [][]string{{"", "Incorrect.", "30,60,6,#f80,#20202050"},
					{"a f11 a11 a22 b2", "Order me again and I shall have your head!   ", "16,51,4,#f00,#ffff0060"},
					{"c11 c1 c42 d2 d31", "", "", "~"},
					{"c42~c31", "HEY! <c42> , get into the fight! ", "25,81,4,#6f6,#ffff0060", "-"},
					{"c42~c2", "Welcome to glorious combat.   ", "30,52,5,#ff6,#80408050", "-"}},
				Hint: []string{"The lead pawn only has support from his left flank.||20,100,3,#0f0,#000",
					"There is a pawn all by himself doing nothing.  Give him a purpose.||10,100,3,#0f0,#000"}},

			{Title: "", Width: 70, PosX: 50, PosY: 28, Background: "#20a0a070",
				Black: []string{"Pf11", "Pa", "Pb", "Pb1", "Pb2"}, White: []string{"Pd11", "Pd", "Pc", "Pb11", "Pb22"},
				Text: []string{"h3:::Lets fast foward a few moves...  time for some bloodshead.",
					"It would have been nice if black would take first at <b11>, but your rival understands that after <b> takes <b11>... and the counter attack <b22> takes <b11>, his forces will have been divides in the center and ours still in tact.",
					"h2:::We will therefore take the initiative.  Take <b> with <b11>."},
				Answer: [][]string{{"", "Incorrect.", "60,70,6,#f80,#20202050"},
					{"f11 a b b1 b2", "I will shower thrice to rid myself of your stench.", "12,67,4,#f6f,#66660040"},
					{"d11 d c b11 b22", "", "", "~"},
					{"b11~b", "Blood has been drawn.   ", "30,70,5,#F00,#005555a0", "-"}},
				Hint: []string{"There is only one pawn that can attack.||30,100,3,#0f0,#000",
					"Attacking moves a pawn to a forward flank, not straight ahead.||10,100,3,#0f0,#000"}},

			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a0a070",
				Black: []string{"Pf11", "Pb", "Pb1", "Pb2"}, White: []string{"Pd11", "Pd", "Pc", "Pb22"},
				Text: []string{"h2:::Black has taken our pawn.  We will sings songs about his bravery.",
					"Each side now has an isolated pawn.  You will have to have special consideration for such a weakness.  Spend at least as much time plotting your opponent's same vulnerabilities."}},

			{Title: "Pawn", Width: 70, PosX: 50, PosY: 40, Background: "#20a0a070",
				Black: []string{"Ka4"},
				White: []string{"Kd4", "Pd43", "Pd32", "Pd21", "Pd2", "Pc22", "Pc32", "Pc42"},
				Text: []string{"A pawn, especially, must think as a team.  Valliant a pawn might be, standing alone he is simply a casualty waiting happen.  He needs his fellow soldiers' support.",
					"A single pawn could mean the difference between victory and defeat."}},
		},
	},
	"Spearman": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a02090", Order: []string{"menu tutor"},
				//Hilite: [][]string{{"c42", "stroke", "#ff4"}, {"c31", "stroke", "#f44"}, {"c1 b33", "stroke", "#08f"}},
				Black: []string{},
				White: []string{"Sd2"},
				Text:  []string{"h2:::This tutorial assumes you are familiar with the pawn. If not, review the pawn tutorial."}},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a02090",
				//Hilite: [][]string{{"c42", "stroke", "#ff4"}, {"c31", "stroke", "#f44"}, {"c1 b33", "stroke", "#08f"}},
				Black: []string{"Be22"},
				White: []string{"Kc55", "Qd3", "Sd21", "Pe2"},
				Text:  []string{"h2:::What is the best move to save your queen?"}},
			{Title: "Spearman", Width: 70, PosX: 50, PosY: 45, Background: "#20f02050",
				Black: []string{},
				White: []string{"Sd2"},
				Text: []string{"If the pawn is our front line, then the spearman is his brother in arms.  A spearman marches forward just as the pawn.  The difference is that he attacks the immediate spaces to the forward diagonals rather than the forward columns.  So in truth, what is a pawn in Chess is actually the spearman in Chexx.",
					"So the tactics of spearmen are of a parallel nature to those employed by pawns.  But the differences are important.  Exploiting their contributions to the fight, and knowing their weaknesses will be how to overcome your adversary."}},
			{Title: "", Width: 50, PosX: 50, PosY: 35, Background: "#20f02050",
				Black: []string{"Rd11", "Nc"}, White: []string{"Sc31", "Sd1", "Sd43", "Bd22"},
				Text: []string{"h2:::Spearmen move like pawns.", "h2:::Select each spearman."},
				Answer: [][]string{{"", "", ""},
					{"d11 c", "Why are you touching me    ||in my 'no no' places.", "8,48,4,#000,#bb8080a0"},
					{"c31", "I can move to either space, why? ||This is a pawn starting position.||Not mine? So what.", "45,78,4,#ff6,#3333bb80", "hl|#0f0|c2 b22"},
					{"d1", "Just one space forward...  ||or, I can take the Knight.||I wish I could take out the Rook, though.  ", "30,83,4,#ff6,#3333bb80", "hl|#0f0|d||hl|#f00|c"},
					{"d22", "I, am NOT... a speuman.   ||Fank you vewy much.", "12,48,4,#ff6,#3333bb80"},
					{"d43", "To charge, or not to charge.||But that Bishop is counting on me   ||for protection.", "42,75,4,#ff6,#3333bb80", "hl|#0f0|d33 e2||hl|#0ff|d22"}},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 35, Background: "#20f02050",
				Hilite: [][]string{{"c1 b33 c e e1 e31", "stroke", "#f0a"}},
				Black:  []string{},
				White:  []string{"Sc31", "Sd1", "Sd33"},
				Text: []string{"h2:::Here is the coverage by these three spearmen.",
					"Notice how spearmen are vulnerable to close quarters combat."}},
			{Title: "", Width: 70, PosX: 50, PosY: 35, Background: "#20f02050",
				Hilite: [][]string{{"c e", "stroke", "#f0a"}, {"d1", "stroke", "#08f"}},
				Black:  []string{"Pc", "P*", "Pe"},
				White:  []string{"Sd2", "Pc11", "Pd11"},
				Text: []string{"h3:::Lets demonstrate the excellant support role of the spearmen in this locked position.",
					"h2:::Move the spearmen to a position where he may disrupt black's position."},
				Answer: [][]string{{"", "", ""},
					{"c * e", "Why are you touching me    ||in my 'no no' places.", "37,70,4,#000,#bbbb8080"},
					{"d2", "", "", "~"},
					{"d2~d", "Tell my family... I died with honor.", "22,80,4,#ff6,#3333bb80", "-"},
					{"d2~d1", "Black's pawns are defenseless against me.   ", "18,80,4,#ff6,#3333bb80", "-||hl|#f00|c e"},
				},
			},
			{Title: "", Width: 40, PosX: 25, PosY: 35, Background: "#20f02050",
				Black: []string{"Sa21", "Sa22", "Sb2", "Sb3", "Sb4"},
				White: []string{"Sc22", "Sc21", "Sc2", "Sc3", "Sc4"},
				Text:  []string{"h2:::Here are spearment from both armies in a standard pawn formation.", "Seems like an affective formation, right?"}},
			{Title: "", Width: 40, PosX: 25, PosY: 35, Background: "#20f02050",
				Hilite: [][]string{{"d c1 c b22 b11 b32 b43 b54 b33", "stroke", "#8ff"}},
				Black:  []string{"Sa21", "Sa22", "Sb2", "Sb3", "Sb4"},
				White:  []string{"Sc22", "Sc21", "Sc2", "Sc3", "Sc4"},
				Text:   []string{"h3:::Unfortunately, this is not the case.", "Since spearment protect to the forward diagonals, this is what they cover.", "h2:::Every last one of them is undefended."}},
			{Title: "", Width: 40, PosX: 25, PosY: 55, Background: "#20a02090",
				Black: []string{"Sb11", "Sa11", "Sa2", "Sb2", "Sa44"},
				White: []string{"Sc33", "Sc21", "Sb22", "Sc3", "Sc51"},
				Text:  []string{"h2:::The Spearman formation looks like this.", "Quite a wedge, right?  And quite a lot of open space."}},
			{Title: "", Width: 70, PosX: 50, PosY: 40, Background: "#20a02090",
				Black: []string{},
				White: []string{"Sc33", "Sc21", "Sb22", "Sc3", "Sc51"},
				Text:  []string{"h3:::That is why the spearmen are the 'second' line of defense.  Their lack of close quarters combat and their ability to attack 'over the sholders' of a blockade, gives them far better utility when combined with pawns."}},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a02090",
				Hilite: [][]string{{"c42", "stroke", "#ff4"}, {"c31", "stroke", "#f44"}, {"c1 b33", "stroke", "#08f"}},
				Black:  []string{},
				White:  []string{"Sc42", "Sc31", "Pc21", "Pc3"},
				Text:   []string{"h3:::Consider this attack configuration.  No longer are the pawns 'base' pawns since they enjoy the protection from the <c42> spearman (yellow).", "The <c31> spearman(red) attacks the spaces in front of the pawns(blue) that would have meant a blockade."}},

			{Title: "", Width: 70, PosX: 50, PosY: 40, Background: "#20a0a070",
				Black: []string{}, White: []string{"Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51"},
				Text: []string{"h2:::Remember White's pawns' staring positions."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 40, Background: "#20a0a070",
				Black: []string{}, White: []string{"Sd43", "Sd32", "Sd2", "Sc32", "Sc42"},
				Text: []string{"h2:::Here are the staring positions of the 5 spearmen."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 40, Background: "#20a0a070",
				Black: []string{}, White: []string{"Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42"},
				Text: []string{"h2:::This is your combined infantry."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#20a02090",
				Black: []string{"Re31"},
				White: []string{"Sd43", "Pd55"},
				Text: []string{"h3:::Both the pawn and spearman could move to attack the Rook.",
					"h2:::Who would be best to attack?"},
				Answer: [][]string{{"", "", "", ""},
					{"e31", "I hear you are a Mandrake mymmerkin.", "19,50,4,#ff6,#222222a0"},
					{"d55 d43", "", "", "~"},
					{"d55~e4", "That... accomplished nothing.   ", "22,43,4,#000,#dd8833a0", "-"},
					{"d43~e2", "Sacraficed your spearmen?   ", "22,43,4,#f00,#008833a0", "-"},
					{"d55~e41", "You pawn attacketh...||the Rook, taketh away.   ", "35,43,4,#04f,#ddff00a0", "-"},
					{"d43~d33", "Good, the Spearman.||Because Rooks are vulnerable to diagonals.  ", "20,43,4,#ff6,#3333bb80", "-"},
				},
			},
		},
	},
	"Knight": {
		Step: []Step{
			{Title: "Knight", Width: 70, PosX: 50, PosY: 50, Background: "#201000c0", Order: []string{"menu tutor"},
				Black: []string{"Na4"},
				White: []string{"Nd2"},
				Text: []string{"h2:::Knights: the battlefield's elite.  Charging in were angels fear to tread.",
					"Devistating and cunning, a single Knight can bring the downfall of a reign."},
			},
			{Title: "Prerequisite", Width: 70, PosX: 50, PosY: 50, Background: "#201000c0", Order: []string{"menu tutor"},
				Black: []string{"Na4"},
				White: []string{"Nd2"},
				Text:  []string{"h3:::This tutorial will rely on the pawn and spearman tutorials."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0", Order: []string{"menu tutor"},
				Black: []string{},
				White: []string{"Bc53", "Bc55", "Bd52"},
				Text:  []string{"h2:::Your start off your battle with 3 Knights."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#201000c0", Order: []string{"menu tutor"},
				Hilite: [][]string{{"d53 d51 c33", "stroke", "#ff0"}, {"c53 c55 d52", "stroke", "#aff"}},
				Black:  []string{"Ra5", "Rf52", "Ra54", "Nf53", "Nf55", "Na31", "Ba53", "Ba51", "Bf54", "Qf44", "Ka41", "If33", "Ea4", "Pf51", "Pf41", "Pf31", "Pf22", "Pa21", "Pa33", "Pa44", "Pa55", "Sf42", "Sf32", "Sa2", "Sa32", "Sa43", "Af43", "Aa3", "Aa42"},
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Text:   []string{"h2:::Here is the rest of the Army."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 40, Background: "#201000c0",
				Black: []string{},
				White: []string{"Nd2", "Nc5", "Nd53"},
				Text:  []string{"h3:::Let us begin by understanding how the Knight moves.", "h2:::Select each Knight on <d2>, <d53> and <c5>."},
				Answer: [][]string{{"d2", "A knight may attack as many as 12 positions.   ", "12,60,4,#0ff,#ffff0030", "hl|#ff0|c54 c55 d51 d52 d43 d33 e1 e c c1 c31 c42"},
					{"c5", "On a corner, a Knight may have as few as 4 options.   ", "7,60,4,#0ff,#ffff0030", "hl|#ff0|c42 c31 b33 b43"},
					{"d53", "Here on the edge, the Knight can reach 6 spaces only.  ", "5,62,4,#0ff,#ffff0030", "hl|#ff0|e3 e4 d22 d21 d3 d4"}},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 30, Background: "#302010c0",
				Hilite: [][]string{{"e11 f b b11 c2 c31 c43 c44 d41 d42 d33 e2", "stroke", "#ff0"}, {"a b22 c42 d43 e21 d4", "stroke", "#f00"}},
				Black:  []string{},
				White:  []string{"Nd1"},
				Text: []string{"h2:::Knights cannot be blocked:  They jump to their destination.",
					"h3:::Conbined with range, penetration, and mutiple attacks, each Knight is an army unto himself."},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 30, Background: "#302010c0",
				Hilite: [][]string{{"e11 f b b11 c2 c31 c43 c44 d41 d42 d33 e2", "stroke", "#ff0"}},
				Black:  []string{"P*", "Pc", "Pc1", "Pc21", "Pc32", "Pc33", "Pd3", "Pd31", "Pd32", "Pd22", "Pe1", "Pe"},
				White:  []string{"Nd1", "Pd", "Pc11", "Pc22", "Pd2", "Pd21", "Pd11"},
				Text:   []string{"h2:::The knight jumps to the third ring of spaces of a different color.  Regardless, that the Knight is surrounded, he may attack those spaces.  That gives the knight up to 12 options, at least, when well placed near the center."},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 30, Background: "#302010c0",
				Hilite: [][]string{{"e3 e4 d22 d21 d3 d4", "stroke", "#fa0"}, {"c42 c31 b33 b43", "stroke", "#0af"}},
				Black:  []string{},
				White:  []string{"Nd53", "Nc5"},
				Text:   []string{"h2:::An unfortunately placed knight my have as few as four.  So, give the Knight room to gallup to reach his full affectiveness"},
			},
			{Title: "Knowledge Check", Width: 85, PosX: 50, PosY: 35, Background: "#302010c0",
				Black: []string{"Qd11", "Sc44"},
				White: []string{"Nd54", "Nd3", "Nc52"},
				Text:  []string{"h2:::Select the Knights that who have an attack."},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "16,48,6,#f80,#00000080"},
					{"d11", "Your fowlness overwhelms me.   ", "14,48,6,#0f8,#80800080"},
					{"c44", "I have a shaft for you to sit on.", "16,68,6,#0f8,#80800080"},
					{"d3 c52", "Fantastic, You got them all. ", "20,48,6,#0f8,#80800080", "+", "2|N|#ff0"}},
			},
			{Title: "Knowledge Check", Width: 85, PosX: 50, PosY: 20, Background: "#302010c0",
				Black: []string{},
				White: []string{"Nb", "N*", "Nd11"},
				Text: []string{"Let us test you equestrian skills.",
					"h2:::Tallyhoe!  Of these three knights, only two protect each other.  Select the unprotected knight, then select the position to where the others can protect him."},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "30,75,6,#f80,#00000080"},
					{"b * d11", "", "", "~"},
					{"*~c21", "Excellant. The trifecta of might! ", "23,80,4,#0ff,#ffff0030", "-||hl|#ff0|b d11 c21"},
					{"b~c21 d11~c21 *~e22", "Not bad. Each knight is protected, ||but there is a better option.", "22,72,4,#0ff,#ffff0030", "-"}},
				Hint: []string{"Which knight has no protection at all.||30,100,3,#0f0,#000",
					"Of the 2 knights that do protect one another, where do both attack.||10,100,3,#0f0,#000",
					"The unprotected knight must find his own color.||20,100,3,#0f0,#000"},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 25, Background: "#302010c0",
				Black: []string{},
				White: []string{"Nb", "Nc21", "Nd11"},
				Text:  []string{"h2:::Right you are.  Three key spaces on the board controlled by redundant defences.  It would take a fine strategy and a lot of sacrafice to unseat this stronghold."},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 25, Background: "#302010c0",
				Hilite: [][]string{{"b44 c4 c52 c53 c44 d3 d21 * b21 b32 b31 c2 d1 e11 f1 f22 a2 a32 a33 c33 d43 d42 e3 e31 e22 a c1 ", "stroke", "#f80"}},
				Black:  []string{},
				White:  []string{"Nb", "Nc21", "Nd11"},
				Text:   []string{"h2:::These three knights cover all of this area.  But there are distinct vulnerabilities.  "},
			},
			{Title: "Knowledge Check", Width: 85, PosX: 50, PosY: 25, Background: "#302010c0",
				Hilite: [][]string{{"", "stroke", "#0ff"}},
				Black:  []string{"Rd"},
				White:  []string{"Nd1"},
				Text: []string{"h2:::A knight is a master of close quarters combat.",
					"h3:::Although he can't attack within that radius, he is always just one move away from doing so.  Even better, there are up to two options for these attacks.",
					"h2:::Select the 2 spaces where your Knight can move that attack the Rook."},
				Answer: [][]string{{"", "That is incorrect.", "30,80,6,#f80,#20202050"},
					{"c2 e2", "Great job.  Either <b2> or <d21> will turn||the tables on the rook.", "17,75,4,#8f0,#20202050", "+", "2|N|#0ff"},
					{"d", "Remove thy mitts, villian!", "20,70,6,#f80,#20202050"},
					{"d1", "We are not moving yet, my lord.", "10,76,6,#ff8,#20202050"},
					{"c31 d33 b11 e11", "Unfortunate move.||That rook will have your lunch.||Reset and try again.", "22,73,5,#f80,#20202050"},
					{"e b c43 c44 d41 d42 ", "Sometimes retreat is the best move. ||But the opportunity stands that||you might find safety in an||offensive position.", "22,73,4,#f80,#20202050"}},
				Hint: []string{"A Knight will always move to a different color.||25,55,3,#0f0,#000",
					"That different color will also have to be different from the Rook.||15,58,3,#0f0,#000",
					"The two spaces will be symmetrical on the vertical center.||25,60,3,#0f0,#000"},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 25, Background: "#302010c0",
				Hilite: [][]string{{"", "stroke", "#0ff"}},
				Black:  []string{"Bd21"},
				White:  []string{"Nc22"},
				Text: []string{"h2:::Now, a Bishop has encroached upon the Knight.",
					"h3:::Although he can't attack within that radius, he is always just one move away from doing so.  Even better, there are up to two options for these attacks.",
					"h2:::Select the 2 spaces where your Knight can move that attack the Bishop."},
				Answer: [][]string{{"", "That is incorrect.", "30,80,6,#f80,#20202050"},
					{"* d4", "Great job.  Either <*> or <d4> attacks the Bishop.", "11,65,4,#8f0,#20202050", "+", "2|N|#0ff"},
					{"d21", "Mutton loving scoundrel!   ", "12,78,6,#f80,#20202050"},
					{"c22", "Standing fast, my lord.", "35,76,6,#ff8,#20202050"},
					{"b11 b22 c3 d22 e", "Sometimes retreat is the best move. ||But the opportunity stands that||you might find safety in an||offensive position.", "22,75,4,#f80,#20202050"},
					{"c41 c53 c54 d41 d32", "Sometimes retreat is the best move. ||But the opportunity stands that||you might find safety in an||offensive position.", "22,45,4,#f80,#20202050"}},
				Hint: []string{"The two spaces will be on the center column.||25,80,3,#0f0,#000",
					"North Star, North Star, are you near or are you far...||25,80,3,#0f0,#000"},
			},
			{Title: "Forks", Width: 85, PosX: 50, PosY: 30, Background: "#302010c0",
				Hilite: [][]string{{"c e", "stroke", "#f88"}},
				Black:  []string{"Pc", "Pe"},
				White:  []string{"Nd2"},
				Text: []string{"h3:::The Knight's ability to engage many targets at once is called a 'fork'.",
					"Both these pawns are attacked by the Knight.  If both are unprotected, then only one can be saved."},
			},
			{Title: "Knowledge Check", Width: 85, PosX: 50, PosY: 30, Background: "#302010c0",
				Black: []string{"Sa1", "Pb2"},
				White: []string{"Nd21"},
				Text:  []string{"h2:::Use the 'fork', Bloke."},
				Answer: [][]string{{"", "Incorrect", "60,70,6,#f80,#f0a"},
					{"c", "Lets actually move the Knight by first selecting him, then this destination", "10,70,4,#f80,#f0a"},
					{"d21", "", "", "~"},
					{"a1 b2", "Leave me alone, mangy dog.", "40,50,#aa0,#00000060"},
					{"d21~c", "Good move.", "40,50,#0fa0,#00000060"},
				},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 10, Background: "#302010c0",
				Black: []string{"Kf33", "Rf1", "Rc2", "Be3", "Bf32", "N*", "Qb3", "Sb2"},
				White: []string{"Kc33", "Rb1", "Nc1", "Bd22", "Bd33"},
				Text: []string{"h3:::Lets look at the Knight in action.",
					"h2:::Black is up a queen and rook.  The situation for white, is grim. But a single Knight can shift the ballance of power."},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 10, Background: "#302010c0",
				Black: []string{"Kf33", "Rf1", "Rc2", "Be3", "Bf32", "N*", "Qb3", "Sb2"},
				White: []string{"Kc33", "Rb1", "Nc1", "Bd22", "Bd33"},
				Text:  []string{"h2:::Using the white Knight, what is the best option?"},
				Answer: [][]string{{"", "", "60,70,6,#f80,#f0a"},
					{"c1", "", "", "~"},
					{"b1 d22 d33 c33", "This is a Knight's tutorial...", "33,80,3,#0f8,#ff888830"},
					{"f1 c2 e3 f32 * b2", "I wretch at your proximity.", "35,20,3,#f80,#ff440030"},
					{"f33", "Filthy knave! Be gone from my sight.   ", "7,38,4,#aa0,#ff440030"},
					{"b3", "Unhand my betrothed!    ", "17,38,4,#aa0,#ff440030"},
					{"c1~a11", "Hazzah!!  Rook, Queen and King are all in the Knight's sights.  Black||has no ther option than to sacrafice its Queen to save her King.", "9,80,3,#0ff,#ffff0090", "-||hl|#ff0|f33 b3 f1"},
					{"c1~a", "Attacking the King is a proven strategy, but in this case, its||despiration.  There is victory to be found: look out 2 moves ahead.", "11,80,3,#8f0,#0000c060", "-||hl|#ff0|f33||hl|#f00|a"},
					{"c1~e c1~d11 c1~d2 c1~c42 c1~c41 c1~b44 c1~b43", "That is a legal Knight move.   ||Not helpful, but legal.", "35,80,3,#f08,#004050b0", "-"},
					{"c1~b31", "You didn't need that Knight anyway.   ", "31,80,3,#f08,#004050b0", "-"},
					{"c1~b2", "You won a spearman... for the price of a Knight.  || *sigh*", "23,80,3,#f08,#004050b0", "-"}},
				Hint: []string{"Place the knight where it can attack three major pieces.||20,80,3,#0f0,#000"},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 15, Background: "#302010c0",
				Black: []string{"Ka2", "Rf1", "Rc2", "Be3", "Bf32", "N*", "Qb3", "Sb2"},
				White: []string{"Kc33", "Rb1", "Na11", "Bd22", "Bd33"},
				Text:  []string{"h3:::Now... the Queen in yours!  But...", "h2:::Consider, a moment, that the Knight may yet inflict still greater harm."},
				Answer: [][]string{{"", "", ""},
					{"a11", "", "", "~"},
					{"b1 d22 d33 c33", "This is still a Knight's tutorial...", "30,80,3,#0f8,#ff888830"},
					{"f1 c2 e3 f32 * b2", "Stand still so I may relieve myself upon your head. ", "3,58,3,#f80,#ff440030"},
					{"a2", "Vile wretch!||You will beg me for a quick death.  ", "7,34,4,#aa0,#ff440030"},
					{"b3", "I spit in you eye. ", "60,53,4,#aa0,#ff440030"},
					{"a11~f21", "If its you time...||...its just your time.", "11,80,3,#8f0,#0000c060", "-||hl|#ff0|f1"},
					{"a11~c1", "If its you time...||...its just your time.", "11,80,3,#8f0,#0000c060", "-||hl|#ff0|c2"},
					{"a11~b31 a11~a43", "If its you time...||...its just your time.", "11,80,3,#8f0,#0000c060", "-||hl|#ff0|b3"},
					{"a11~a42", "You already could have taken the Queen||if you wanted to.", "11,80,3,#8f0,#0000c060", "-||hl|#ff0|b3"},
					{"a11~b22", "Whats the point of attacking the Queen  ||if a Rook can just take you for free?", "11,80,3,#8f0,#0000c060", "-||hl|#ff0|c2"},
					{"a11~e", "Where does he think he is going?  ||To market!?", "11,72,3,#8f0,#0000c060", "-"},
					{"a11~d", "A double Rook split.  Your on the right  ||track.  But there is an even better attack.", "11,72,3,#8f0,#0000c060", "-"},
					{"a11~a3 a11~f33", "The King can attack...||You know that, right?", "21,72,3,#8f0,#0000c060", "-||hl|#ff0|a3"},
					{"a11~b3", "As I said, you can take the Queen.  That makes up quite a bit of ground,||but you are still a Rook down and Black is bearing down on you.|| Look for the better option.", "11,80,3,#8f0,#0000c060", "-||hl|#ff0|b3"},
					{"a11~f1", "Great insight!  Down a rook, and the King must again flee.", "16,95,3,#0ff,#77000090", "-"}},
				Hint: []string{"Attack the King again...||35,80,3,#0f0,#000", "Take a piece, but the Queen can wait... trust me.||30,100,3,#0f0,#000"},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 15, Background: "#30b0f0c0",
				Hilite: [][]string{{"d33 d22 b1", "stroke", "#0f0"}, {"a2 a21 a31 a1 f22 f33", "stroke", "#ff0"}},
				Black:  []string{"Ka2", "Rc2", "Be3", "Bf32", "N*", "Qb3", "Sb2"},
				White:  []string{"Kc33", "Rb1", "Nf1", "Bd22", "Bd33"},
				Text:   []string{"The King is under attack by the Knight....  bishops <d33> and <d22> block the King's advance to <a2>, <a21> or <a31>.  The rook at <b1> cuts off <a1> and <f22>.  The only place for the King to go is <a3>."},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 15, Background: "#302010c0",
				Black: []string{"Ka3", "Rc2", "Be3", "Bf32", "N*", "Qb3", "Sb2"},
				White: []string{"Kc33", "Rb1", "Nf1", "Bd22", "Bd33"},
				Text:  []string{"h2:::Use the Knight to drive the final nail in Black's coffin."},
				Answer: [][]string{{"", "That is incorrect.", "36,81,4,#f80,#30303090"},
					{"f1", "", "", "~"},
					{"b1 d22 d33 c33", "This is still a Knight's tutorial...", "30,80,3,#0f8,#ff888830"},
					{"c2 e3 f32 * b2", "With all due respect... eat a stool. ", "3,58,3,#f80,#ff440030"},
					{"a3", "You varlet! Away from me. ||And take with you, your flies. ", "7,34,4,#aa0,#224400b0"},
					{"b3", "Your head will adorn my table. ", "40,32,4,#aa0,#663300b0"},
					{"f1~f42", "Making sport of the King, are we? ", "10,38,4,#aa0,#663300b0", "-"},
					{"f1~f41 f1~e43 f1~e31", "Off, into the sunset he rides... ", "10,40,4,#aa0,#663300b0", "-"},
					{"f1~e44", "Off, into the sunset he rides... ", "10,25,4,#aa0,#663300b0", "-"},
					{"f1~e2 f1~d11 f1~d f1~b f1~e2", "I think your Knight's saddle||might be on backwards.", "12,38,4,#aa0,#663300b0", "-"},
					{"f1~a2 f1~f33", "The King smites thy Knight.   ", "20,39,4,#aa0,#663300b0", "-"},
					{"f1~a11", "...Thrice, the King must flee... and now,||the Queen is yours for the taking.", "20,60,4,#fff,#00000090", "-"}},
				Hint: []string{"Attack the King again...||35,80,3,#0f0,#000", "Attack the Queen with that same move.||30,100,3,#0f0,#000"},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 15, Background: "#302010c0",
				Black: []string{"Kf44", "Rc2", "Be3", "Bf32", "N*", "Qb3", "Sb2"},
				White: []string{"Kc33", "Rb1", "Na11", "Bd22", "Bd33"},
				Text:  []string{"Without a Queen and a second rook, it is you who has the upper hand.  Once bearing down on your King, the enemy has lost his advantage and now this match is yours to lose.", "h4:::In Chess, such scenarios do happen.  It takes careful stategizing, but even the threat of being led to such a position can be useful."},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 55, Background: "#302010c0",
				Black: []string{"Na4"},
				White: []string{"Nd3"},
				Text:  []string{"h2:::Knights are powerful given the right opportunity.  As the commander of your forces, it is your job to set up your enemy for the thrashing a knight is designed to deliver.  In your scheming, it pays to consider tactics that use Knights to spring a trap."},
			},
		},
	},
	"Bishop": {
		Step: []Step{
			{Title: "Bishop", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0", Order: []string{"menu tutor"},
				Black: []string{},
				White: []string{"Bd2", "Bc42", "Bd42"},
				Text:  []string{"h2:::His grace, the bishop.  Seedily sliding through enemy lines to eviserate his enemy from within."},
			},
			{Title: "Prerequisite", Width: 70, PosX: 50, PosY: 50, Background: "#302010c0",
				Black: []string{"Na4", "Pf33", "Sa31"},
				White: []string{"Nd2", "Pc33", "Sd31"},
				Text:  []string{"h3:::This tutorial will assume you have completed the Pawn, Spearman, and Knight tutorials."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0",
				Black: []string{},
				White: []string{"Bc53", "Bc55", "Bd52"},
				Text: []string{"h2:::Your battle begins with 3 Bishops.  One for each color of the board.",
					"h3:::These are their starting positions."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0",
				Hilite: [][]string{{"c53 c55 d52", "stroke", "#aff"}},
				Black:  []string{},
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Text:   []string{"h2:::Here they are amongst the rest of the Army."},
			},
			{Title: "Neutral Bishop", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"c32 c41 c5 d32 d44 e5 c11 b11 b2 a44 d11 e11 f2 f41 c44 d41", "stroke", "#4f4"}},
				Black:  []string{},
				White:  []string{"Bd2"},
				Text: []string{"h2:::Each Bishop will inhabit only one color.  This Bishop is on a neutral space, and he moves only to other neutral spaces.",
					"The 'diagonal' moves, which are how the Bishop moves, are straight line moves along the same color."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"c32 c41 c5 d32 d44 e5 c11 b11 b2 a44 d11 e11 f2 f41 c44 d41", "stroke", "#4f4"}},
				Black:  []string{"Pf", "Pb1"},
				White:  []string{"Bd2"},
				Text: []string{"h2:::See how Blacks Pawns can never be threatened by White's Bishop.",
					"(So long as they stay off neutral spaces.)"},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"e44 d11 e11 f2 f41 c44 d2 f32 f44 a5 f11 a11 b2 b41 e32 e41 e5", "stroke", "#4f4"}},
				Black:  []string{"Pf", "Pb1"},
				White:  []string{"Bf2"},
				Text:   []string{"h2:::Even if that Bishop moves, he can never reach anything but neutral spaces."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"c52 c43 d42 d54 c22 c1 b21 b3 a55 d21 e1 e22 f3 f51 c55 d51", "stroke", "#4f4"}},
				Black:  []string{"Pf", "Pb1"},
				White:  []string{"Bd3", "Bd2"},
				Text:   []string{"h2:::Here is White's dark Bishop. Black's pawn on the light space is still safe."},
			},
			{Title: "Knowledge Check", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"c52 c43 d42 d54 c22 c1 b21 b3 a55 d21 e1 e22 f3 f51 c55 d51", "stroke", "#4f4"}},
				Black:  []string{"Pf", "Pb1"},
				White:  []string{"Bd3", "Bd2"},
				Text:   []string{"h2:::But the pawn on the dark space is not.  White's dark Bishop has numerous moves to engage that pawn safely.  Can you find them?"},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "16,48,6,#f80,#00000080"},
					{"d54 e1 e22 c22 c43", "Outstanding work.||Thats a lot of options.", "50,55,4,#8f0,#20202050", "+", "5|B|#0ff"},
					{"d3", "Just point me in the right direction.   ", "15,58,4,#f80,#00000080"},
					{"d2", "Standing fast, my lord.  ", "15,58,6,#f80,#00000080"},
					{"f b1", "Cant catch me! THWBPWBPWBPWBPWBPWBP....  ", "15,58,5,#f80,#00000080"},
					{"b21", "Ah! Watch out for the pawn!   ", "15,58,6,#f80,#00000080", "hl|#f44|b1"}},
				Hint: []string{"If the pawn were a Bishop,where would they meet?||20,30,3,#0f0,#000"},
			},
			{Title: "Knowledge Check", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"c42 c51 d4 d31 d43 d55 d1 e f1 f31 f52 c21 b22 b31 b4", "stroke", "#4f4"}, {"Pc32", "stroke", "#f44"}},
				Black:  []string{"Pf", "Pb1", "Pb2", "Pc32", "Pe11", "Sc3", "Ne2", "Nb53"},
				White:  []string{"Bd3", "Bd11", "Bc33", "Kc54"},
				Text:   []string{"h2:::Your light space Bishop is threatened!  What are the safe options?"},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "16,48,6,#f80,#00000080"},
					{"d4 d43 f31 c21", "Outstanding work.  You found all||options for a safe retreat.", "40,40,4,#8f0,#20202050", "+", "4|B|#0ff"},
					{"c33", "Just point me in the right direction.   ", "15,58,4,#f80,#00000080"},
					{"d11 d3", "Standing fast, my lord.  ", "25,48,6,#f80,#00000080"},
					{"f b1 c32 c4", "Pick pocket!!!! ", "45,53,5,#f80,#00000080"},
					{"e2", "Thats a great move!    ||  -enemy Knight", "47,45,5,#f80,#00000080", "hl|#f60|d55 d31 d1 f1"},
					{"d55 d31 d1 f1", "This Knight will take you.  ", "40,60,5,#f80,#00000080", "hl|#f60|e2"},
					{"b53", "I wil make sure your safe...||*wink-wink*", "20,41,5,#f80,#00000080", "hl|#f60|b4 b22"},
					{"b4 b22", "You should move here...   ||He-Hee.", "20,41,5,#f80,#00000080", "hl|#f60|b53"},
					{"c3", "Fresh Bishop-Kabobs   ", "45,53,5,#f80,#00000080", "hl|#f60|c51 c42"},
					{"c51 c42", "Spearmen are quite||affective against Bishops. ", "45,53,5,#f80,#00000080", "hl|#f60|c3"},
					{"b2", "I promise, your bishop  ||is safe... right here.", "15,33,5,#f80,#00000080", "hl|#f60|b31"},
					{"e11", "Spit roasted bishop...||my favorite.", "15,33,5,#f80,#00000080", "hl|#f60|e"},
					{"e b31", "OMG, Pawns!", "25,38,5,#f80,#00000080", "hl|#ff0|b2 e11"},
					{"c54", "My presence, honors you.", "15,68,5,#f80,#00000080"},
					{"b21", "Ah! Watch out for the pawn!   ", "15,58,6,#f80,#00000080", "hl|#f44|b1"}},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"c21 b22 c54 d4 d31", "stroke", "#4f4"}, {"b31 e1 ", "stroke", "#f44"}, {"c43 c52 c55 d51 d42 d54 d21 ", "stroke", "#44f"}},
				Black:  []string{"Pe1", "Pb31", "Ne22", "Bb4", "Sf"},
				White:  []string{"Bd3", "Bc33", "Sd1", "Pc22", "Sc42", "Sd43"},
				Text:   []string{"h2:::Bishops, unlike Knights, can be blocked."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"d1 c22 c42 d43", "stroke", "#4ff"}},
				Black:  []string{"Pe1", "Pb31", "Ne22", "Bb4", "Sf"},
				White:  []string{"Bd3", "Bc33", "Sd1", "Pc22", "Sc42", "Sd43"},
				Text:   []string{"h2:::Blocked by our own forces..."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#500060a0",
				Hilite: [][]string{{"b31 e1", "stroke", "#f66"}},
				Black:  []string{"Pe1", "Pb31", "Ne22", "Bb4", "Sf"},
				White:  []string{"Bd3", "Bc33", "Sd1", "Pc22", "Sc42", "Sd43"},
				Text:   []string{"h2:::... or enemy forces.", "h3:::Blacks Knight and Bishop are protected by the pawns at <b31> and <e1>."},
			},
			{Title: "Cooperation", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0",
				Black: []string{"Kc52"},
				White: []string{"Bc11", "Be3"},
				Text:  []string{"h2:::Bishops cannot protect one another.  But they do work together well as a team."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0",
				Hilite: [][]string{{"c3 b55 c2 b44 c42 c53 c32", "stroke", "#f8f"}},
				Black:  []string{"Kc52"},
				White:  []string{"Bc11", "Bc21"},
				Text: []string{"h2:::See how trapped is the King by just a pair of Bishops.",
					"h3:::Since the King simply moves one contiguous space at a time, the King is confined.  He could take the Bishops... but that would take 3 moves!"},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0",
				Hilite: [][]string{{"c41 c5 c53 c31 c4 c43", "stroke", "#f8f"}, {"c32", "stroke", "#8ff"}},
				Black:  []string{"Kc52"},
				White:  []string{"Bc22", "Bc32", "Pc33"},
				Text:   []string{"h2:::With so much as a Pawn for assistance, that Bishop pair net confines that King to contemplate his doom."},
			},
			{Title: "Knowledge Check", Width: 50, PosX: 30, PosY: 85, Background: "#500060a0",
				Black: []string{"Ka54", "Ba53", "Na43", "Nb11", "Pa44"},
				White: []string{"Kc53", "Bf1", "Bb3"},
				Text:  []string{"h2:::As White, use a Bishop to attack Black's King."},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "16,58,6,#f80,#00000080", "-"},
					{"f1 b3", "", "", "~"},
					{"f1~f52", "Okay, lets see how this goes...", "15,44,4,#4f0,#0000a080", "-"},
					{"f1~b1", "Oh no, Knight spoils your fun.", "15,34,4,#4f0,#0000a080", "-||hl|#f40|a43"},
					{"f1~d1", "Oh no, Knight spoils your fun.", "15,34,4,#4f0,#0000a080", "-||hl|#f40|b11"},
					{"c53", "I don't do that king of thing.   ", "15,58,4,#f80,#00000080"},
					{"a54 a53 a43 a44", "Piss off, abrigant!  ", "45,63,5,#f80,#00000080"}},
				Hint: []string{"Black's King is on a light space.||40,60,4,#0f0,#000"},
			},
			{Title: "Knowledge Check", Width: 50, PosX: 30, PosY: 85, Background: "#500060a0",
				Black: []string{"Ka54", "Ba53", "Na3", "Nb11", "Pa44"},
				White: []string{"Kc53", "Bf52", "Bb3"},
				Text:  []string{"h2:::Knight blocks.  What do you do now?"},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "16,58,6,#f80,#00000080", "-"},
					{"f52", "", "", "~"},
					{"f52~a3", "Checkmate.  Well done.  ", "15,44,4,#4f0,#0000a080", "-"},
					{"c53", "Send me news of our victory.   ", "15,65,4,#f80,#00000080"},
					{"a54 a53 a3 a44", "Piss off, abrigant!  ", "45,58,5,#f80,#00000080"}},
				Hint: []string{"Think, 'The Godfather'.||40,60,4,#0f0,#000"},
			},
			{Title: "Forking Bishop", Width: 65, PosX: 50, PosY: 35, Background: "#500060a0",
				Black: []string{"Pc", "Pe"},
				White: []string{"Bd1"},
				Text:  []string{"Bishops have multiple attacks.  Which means they can force you opponent to lose a piece."},
			},
			{Title: "", Width: 65, PosX: 50, PosY: 25, Background: "#500060a0",
				Black: []string{"Nb21", "Ne31"},
				White: []string{"Bd51"},
				Text:  []string{"h2:::Both Knights are attacked by the Bishop.  Both cannot be saved."},
			},
			{Title: "Knowedge Check", Width: 65, PosX: 50, PosY: 25, Background: "#500060a0",
				Black: []string{"Nb", "Nc31"},
				White: []string{"Be1", "Pc4"},
				Text: []string{"h3:::Not all forks are created equal, though.  <c1> would fork both those Knights.  But there is a problem with that move.",
					"What are the troublesome spaces with that move?"},
				Answer: [][]string{{"", "That just won't do.", "16,48,6,#f80,#00000080"},
					{"d1 b32", "Very sharp.  In one move these  ||Knights protect one another.", "45,55,4,#8f0,#20202050", "+", "2|N|#f08"}},
				Hint: []string{"Knights, UNITE!!||39,40,3,#0f0,#000", "Knights can protect each other.||30,40,3,#0f0,#000"},
			},
			{Title: "", Width: 85, PosX: 50, PosY: 25, Background: "#500060a0",
				Hilite: [][]string{{"a e41", "stroke", "#fa0"}, {"f", "stroke", "#fff"}},
				Black:  []string{"Kb3", "Ne1", "Ne22", "Se31", "Pf2"},
				White:  []string{"Kd1", "Bc42", "Bc43", "Pd55", "Pd44", "Pd21"},
				Text:   []string{"h3:::See how <f>, in white, bekons the Bishop to fork these Knights?  Those Knights can maneuver to either <a> or <e41>, in orange, to find mutual protection."},
			},
			{Title: "Knowedge Check", Width: 85, PosX: 50, PosY: 25, Background: "#500060a0",
				Hilite: [][]string{{"a e41", "stroke", "#fa0"}, {"f", "stroke", "#fff"}},
				Black:  []string{"Kb3", "Ne1", "Ne22", "Se31", "Pf2"},
				White:  []string{"Kd1", "Bc42", "Bc43", "Pd55", "Pd44", "Pd21"},
				Text:   []string{"h2:::With the pawns and light square Bishop, can you make a fork work?  Or is there another option?"},
				Answer: [][]string{{"", "Get your mind in the game, son.", "10,40,6,#f80,#00000080"},
					{"c43", "", "", "~"},
					{"c43~f21 c43~b42", "Thats the way to do it,||a Knight-King fork.", "16,48,5,#0f8,#00000080"},
					{"c43~f", "Well... there is a problem.  Knight ||to <a>, and they have protection.  ||Either Knight... or to <e41> does the same.", "6,85,4,#f80,#00000080", "-||mv|e1~a||hl|#08f|e41 a"}},
				Hint: []string{"Are the 2 Knights the only fork?||20,38,3,#0f0,#000", "You can't stop the Knights from protecting each other.||15,38,3,#0f0,#000"},
			},
			{Title: "Pins", Width: 65, PosX: 50, PosY: 35, Background: "#500060a0",
				Black: []string{"Kc1", "Nd"},
				White: []string{"Be1"},
				Text:  []string{"Bishops can pin enemy pieces."},
			},
			{Title: "", Width: 55, PosX: 30, PosY: 90, Background: "#500060a0",
				Hilite: [][]string{{"a44 c11 d2", "stroke", "#f80"}, {"c2 d1 c33", "stroke", "#f08"}, {"d21 c21 c32", "stroke", "#aa0"}, {"f21", "stroke", "#0f0"}},
				Black:  []string{"Ka4", "Nf21", "Ba44", "Nc2", "Nd21"},
				White:  []string{"Kc22", "Bb54"},
				Text:   []string{"h3:::See how your King is trapped, and the Knight at <f21>(green) is about to deliver the final blow with the move: f21~*"},
			},
			{Title: "", Width: 55, PosX: 30, PosY: 90, Background: "#500060a0",
				Hilite: [][]string{{"a44 c11 d2", "stroke", "#f80"}, {"c2 d1 c33", "stroke", "#f08"}, {"d21 c21 c32", "stroke", "#aa0"}, {"f21", "stroke", "#0f0"}},
				Black:  []string{"Ka4", "Nf21", "Ba44", "Nc2", "Nd21"},
				White:  []string{"Kc22", "Bb54"},
				Text:   []string{"h2:::You have no ability to attack.  Knights cannot be blocked.  This the end of your Kingdom.  Change my mind."},
				Answer: [][]string{{"", "No es bueno.", "16,48,6,#f80,#00000080"},
					{"b54", "", "", "~"},
					{"b54~e31", "Boom!  Thats the ticket.", "16,48,6,#f80,#00000080", "-"}},
				Hint: []string{"A pin involves a King.||18,75,3,#0f0,#000", "Your Bishop is dark.||18,75,3,#0f0,#000"},
			},
			{Title: "", Width: 40, PosX: 70, PosY: 10, Background: "#500060a0",
				Hilite: [][]string{{"f54 d e", "stroke", "#fff"}, {"f f1 a a1", "stroke", "#f40"}},
				Black:  []string{"Pf22", "Pf21", "Pc", "Pc1", "Ba11", "Kf11", "Nd32"},
				White:  []string{"Bf54", "Bc32", "Pc11", "Sd", "Se", "Kc44"},
				Text:   []string{"h3:::Black's King is boxed in by the Spearmen and Bishop on <f54>, and Blacks own pawns."},
			},
			{Title: "", Width: 40, PosX: 70, PosY: 10, Background: "#500060a0",
				Hilite: [][]string{{"d32 c11 a11", "stroke", "#ff0"}, {"c32", "stroke", "#0f8"}},
				Black:  []string{"Pf22", "Pf21", "Pc", "Pc1", "Ba11", "Kf11", "Nd32"},
				White:  []string{"Bf54", "Bc32", "Pc11", "Sd", "Se", "Kc44"},
				Text:   []string{"h3:::<c32> Bishop could deal the final blow if not for the blocks by the Knight and his own pawn, or the guardian Black Bishop."},
			},
			{Title: "Knowledge Check", Width: 40, PosX: 70, PosY: 10, Background: "#500060a0",
				Black: []string{"Pf22", "Pf21", "Pc", "Pc1", "Ba11", "Kf11", "Nd32"},
				White: []string{"Bf54", "Bc32", "Pc11", "Sd", "Se", "Kc44"},
				Text:  []string{"h2:::Is there still a way for the Bishop finish off the King?"},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "16,48,6,#f80,#00000080"},
					{"c32 c11 d e c44", "", "", "~"},
					{"f22 f21 c c1 a11 d32", "What arrogance.  That you presume||to order MY troups!", "25,26,5,#af0,#000000a0"},
					{"f11", "Swear loyalty to me,||and I shall grant you a merciful death.", "25,26,5,#af0,#000000a0"},
					{"f54", "Anywhere I go will not attack the King.  ", "20,28,4,#f80,#00000080"},
					{"c32~d2 c32~c5 c32~c53 c32~b32 c32~b5", "Your allowing the King time to escape...  ", "12,28,5,#f80,#00000080", "-||mv|f11~f"},
					{"c32~b41 c32~c41 c32~c2", "You Bishop will be captured!  ", "15,28,5,#f80,#00000080", "-||hl|#f44|c1 a11"},
					{"c32~d32", "You got the Knight,||but you missed the win.  ", "5,48,4,#ff0,#00000080", "-||hl|#f44|c1 a11"},
					{"c11~c1", "Nice! A discover check.   ||Now it is mate in 2...", "45,26,5,#08f,#000000a0", "-||hl|#f44|f11"},
					{"d~*", "Check!... but not mate.||You opened up <f> for the King.  ", "30,26,5,#08f,#000000a0", "-||hl|#0f8|f"},
					{"c44~c33 c44~c43 c44~c54 c44~c55 c44~d4 c44~d3", "My feet hurt.  ", "15,88,6,#f80,#00000080", "hl|#f44|d32"}},
				Hint: []string{""},
			},
			{Title: "Skewer", Width: 65, PosX: 50, PosY: 35, Background: "#500060a0",
				Black: []string{"Nd", "Ne1"},
				White: []string{"Bc1"},
				Text:  []string{"Similar to a pin, the skewer is an attack where even if the primary target is moves, there is a secondary victim."},
			},
			{Title: "", Width: 45, PosX: 70, PosY: 80, Background: "#500060a0",
				Black: []string{"Nf", "Na21", "Ke"},
				White: []string{"Bd43"},
				Text:  []string{"Sometimes, the primary target is much move valuable, so the second target is a virtual guarentee."},
			},
			{Title: "", Width: 45, PosX: 30, PosY: 75, Background: "#500060a0",
				Black: []string{"Na1", "Qc1", "Kf33", "Pa22"},
				White: []string{"Ne11", "Bb51", "Pc41", "Kc51", "Bc53", "Pc3", "Pc4", "Sc42"},
				Text:  []string{"If the Bishop at <b51> could capture the Knight, it would fork the King and Queen with the help of his own Knight... but the pawn is blocking."},
			},
			{Title: "", Width: 45, PosX: 30, PosY: 80, Background: "#500060a0",
				Black: []string{"Na1", "Qc1", "Kf33", "Pa22"},
				White: []string{"Ne11", "Bc31", "Pc41", "Kc51", "Bc53", "Pc3", "Pc4", "Sc42"},
				Text:  []string{"But a skewer forces the Queen away..."},
			},
			{Title: "", Width: 45, PosX: 30, PosY: 80, Background: "#500060a0",
				Hilite: [][]string{{"a1", "stroke", "#f80"}},
				Black:  []string{"Na1", "Qf1", "Kf33", "Pa22"},
				White:  []string{"Ne11", "Bc31", "Pc41", "Kc51", "Bc53", "Pc3", "Pc4", "Sc42"},
				Text:   []string{"...and the Knight can be taken."},
			},
			{Title: "Knowledge Check", Width: 40, PosX: 75, PosY: 15, Background: "#500060a0",
				Hilite: [][]string{{"c41 c5 c53 c31 c4 c43 c42 c51 c54", "stroke", "#f8f"}},
				Black:  []string{"Kc52"},
				White:  []string{"Be22", "Bc32", "Bc33"},
				Text:   []string{"h2:::Add the third Bishop, and the King is doomed. Make it happen."},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "16,58,6,#f80,#00000080", "-"},
					{"e22", "", "", "~"},
					{"c32 c33", "The King is on a dark space, ||so only the dark Biship||could deal the final blow.", "45,44,4,#f0a,#00000080"},
					{"e22~d3 e22~b e22~f33", "Checkmate... excellant.  ||Did you see all 3 places?", "5,54,5,#4f0,#0000a080", "-||hl|#fa8|f33 b d3"}},
			},
			{Title: "Knowledge Check", Width: 70, PosX: 50, PosY: 95, Background: "#500060a0",
				Hilite: [][]string{{"", "stroke", "#4f4"}},
				Black:  []string{"Ka41", "Pa55", "Pa44", "Pa33", "Sa22", "Pf51", "Pf41", "Pf31", "Sf42", "Sf21", "Nf55", "Ba51", "Bf11", "Qb32", "S*"},
				White:  []string{"Kc42", "Be32", "Pd44", "Pd55", "Pc51", "Pc41", "Pc31", "Sc32", "Sd"},
				Text:   []string{"h2:::How could a skewer win material?"},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "16,48,6,#f80,#00000080"},
					{"e32", "", "", "~"},
					{"c42 d44 d55 c51 c41 c31 c32 d", "Its the Bishop that needs polishing,||my lord.  ", "8,48,6,#f80,#00000080"},
					{"a41 a55 a44 a33 a22 f51 f41 f31 f42 f21 f55 a51 f11 b32 *", "You are White.  ", "35,30,5,#f80,#00000080"},
					{"e32~e2 e32~e11", "Unfortunately, that skewer doesn't work.  ", "10,75,5,#fff,#f00000a0", "-||hl|#ff0|f11"},
					{"e32~f5 e32~e44 e32~* e32~f32 e32~f2", "Bad idea... ", "20,55,5,#fff,#f00000a0", "-||hl|#f0f|f51 f11 f55"},
					{"e32~a5", "That is the right move.  ||The King must move, and then...||the Queen is ours.", "15,75,5,#0f8,#00000080", "-||hl|#f00|b32 a41"}},
				Hint: []string{"The Bishop is good at penetrating enemy lines.||20,80,3,#0f0,#000", "The King is vulnerable.||30,80,3,#0f0,#000"},
			},
			{Title: "", Width: 35, PosX: 20, PosY: 15, Background: "#500060a0",
				Black: []string{"Kf33", "Rb", "Rb2", "Qb33", "N*", "Nf11"},
				White: []string{"Be3", "Bd33", "Bc11", "Nf", "Ne22", "Kd31", "Pe41"},
				Text:  []string{"When is a bishop powerful?  Against powerful pieces caught within a bishop's domain.  Here, a King and rook both occupy black spaces.  What single move can guarantee the caputure of a major piece?"},
				Answer: [][]string{{"", "Bad move.", "40,99,5,#f80,#f0a"},
					{"d33 e3", "", "", "~"},
					{"f33", "The flies you attract are not nearly||as annoying as the sight of your face.", "30,20,3,#000,#f99"},
					{"b b3 a32 * f11", "I shall introduce your face to my palm.", "30,20,3,#ff6,#000"},
					{"d33~c31", "Nice. The rook is pinned, unable to move lest the King be||captured.  He must first move his king before moving the rook.||Notice the queen on grey.  How can this be exploited?", "15,75,3,#f80,#f0a", "-||hl|#0f0|"},
					{"c11~d11", "Quite right.  The center knight is pinned to protect his Queen.||The mighty knight reduced to a mere blocker.", "35,99,5,#f80,#f0a"}},
			},
		},
	},
	"Rook": {
		Step: []Step{
			{Title: "Rook", Width: 70, PosX: 50, PosY: 50, Background: "#f0f0f050", Order: []string{"menu tutor"},
				Black: []string{},
				White: []string{"Rc43", "Rd42"},
				Text:  []string{"h2:::Bastion of battle, the powerful Rook.  Given half a chance it will eviserate your army from the inside out."},
			},
			{Title: "Prerequisite", Width: 70, PosX: 50, PosY: 50, Background: "#f0f0f050",
				Black: []string{"Na41", "Pf33", "Sa31", "Bf44"},
				White: []string{"Nd2", "Pc33", "Sd31", "Bd3"},
				Text:  []string{"h3:::This tutorial will assume you have completed the Pawn, Spearman,Knight and Bishop tutorials."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0",
				Black: []string{},
				White: []string{"Rd54", "Rd5", "Rc52"},
				Text: []string{"h2:::Just as you begin with 3 Bishops and 3 Knights... you also begins with 3 Rooks.",
					"h3:::They start in these positions."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#500060a0",
				Hilite: [][]string{{"d54 d5 c52", "stroke", "#aff"}},
				Black:  []string{},
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Text:   []string{"h2:::Here they are amongst the rest of the Army."},
			},
			{Title: "", Width: 50, PosX: 30, PosY: 67, Background: "#f0f0f050",
				Hilite: [][]string{{"c4 c5 c31 c32 c33 d3 d41 d52 c2 c1 c * f f1 f2 f3 f4 f5 b33 b32 b31 b3 a44 a54 c41 c52 b44 b54", "stroke", "#ff0"}},
				Black:  []string{},
				White:  []string{"Rc3"},
				Text:   []string{"The Rook travels along any of the 3 axis. Until the edge of the board, or until encountering another piece."}},
			{Title: "", Width: 60, PosX: 30, PosY: 77, Background: "#f0f0f050", Order: []string{"R f3 #044", "R b31 #044"},
				Hilite: [][]string{{"f33", "stroke", "#fff"}},
				Black:  []string{},
				White:  []string{"Rc3"},
				Text: []string{"In 2 moves, the Rook can maneuver to anywhere on the Board ...assuming no obsticles.",
					"Suppose this Rook wants to go to <f33> (white).  There are 2 routes to get there... <f3> and <b31>."}},

			{Title: "Knowledge Check", Width: 70, PosX: 50, PosY: 20, Background: "#f0f0f050",
				Black: []string{"Kc32"},
				White: []string{"Re3"},
				Text: []string{"Sometimes, there may even be more routes to a particular destination.",
					"h2:::Can you find all the spaces the can move, from where it can attack the King?"},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "30,75,6,#f80,#00000080"},
					{"d3 c54 e32 e1 b1", "Terrific!", "63,60,6,#0ff,#ffff0030", "+", "5|R|#a00"}},
				//{"d1 b32", "Very sharp. r.", "45,55,4,#8f0,#20202050", "+", "2"}},

				Hint: []string{"Look for intersection columns originating from the 2 pieces.||14,39,3,#0f0,#000",
					"One intersecting column may intersect 2 from the other piece.||13,39,3,#0f0,#000"},
			},
			{Title: "", Width: 60, PosX: 50, PosY: 27, Background: "#f0f0f050",
				Hilite: [][]string{{"d d2 d42 e11 b11 c43", "stroke", "#0ff"}},
				Black:  []string{"Bd22"},
				White:  []string{"Rc21"},
				Text:   []string{"There may be as many as 6 places to where a Rook may move to intercept another piece."}},
			{Title: "", Width: 60, PosX: 50, PosY: 27, Background: "#f0f0f050",
				Hilite: [][]string{{"d2 d42 c43", "stroke", "#08f"}},
				Black:  []string{"Bd22"},
				White:  []string{"Rc21", "Nc1", "Sc11"},
				Text:   []string{"But, Rooks may be hindered.", "That Knight and Biship limit where the Rook can go."}},
			{Title: "Knowledge Check", Width: 70, PosX: 40, PosY: 15, Background: "#f0f0f050",
				Black: []string{"Nf", "Pa33", "Pa44", "Pa55", "Pf11", "Sa1", "Bd51"},
				White: []string{"Rb22"},
				Text:  []string{"h2:::Find the places where the Rook may attack the Knight without being taken."},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "30,75,6,#f80,#00000080"},
					{"a33 a", "Those pesky pawns... nu-uh.", "13,70,6,#f88,#22220080"},
					{"c42 d54 b55", "The Knight... is the horsey-guy.", "13,70,6,#f88,#22220080"},
					{"a1", "See that Bishop?", "63,60,6,#f88,#ffff0080"},
					{"c2 f11 d21", "You got it!", "33,57,6,#0ff,#ffff0030", "+", "3|R|#af0"}},
				Hint: []string{"asdf.||14,30,3,#0f0,#000",
					"?????.||13,30,3,#0f0,#000"},
			},
			{Title: "", Width: 50, PosX: 70, PosY: 85, Background: "#f0f0f050",
				Hilite: [][]string{{"c11 b11 b2 a44 * f11 f32 f53", "stroke", "#f40"}, {"e a a21 a42 f1 f31 f52", "stroke", "#8f0"}, {"d42 d33 e31 e43 e55 d21 d b a22 a43", "stroke", "#a0a"}, {"b43 b42 b41 b4 ", "stroke", "#08f"}},
				Black:  []string{"Ka41", "Se54", "Pe44", "Pe33", "Pf2", "Pf21", "Pf22", "Sa1", "Pa11", "Pb1", "Pb21", "Sb31", "Sb4", "Pb52"},
				White:  []string{"Rb53", "Rb43", "Rb33", "Rb22", "Rc", "Rf", "Re21", "Re32", "Re42", "Bc11", "Be", "Bd42"},
				Text:   []string{"When it comes to penetrating a formation, the Bishop has the decided advantage."}},

			{Title: "", Width: 50, PosX: 70, PosY: 85, Background: "#f0f0f050",
				Hilite: [][]string{{"c11 b11 b2 a44 * f11 f32 f53", "stroke", "#f40"}, {"e a a21 a42 f1 f31 f52", "stroke", "#8f0"}, {"d42 d33 e31 e43 e55 d21 d b a22 a43", "stroke", "#a0a"}, {"b43 b42 b41 b4 ", "stroke", "#08f"}},
				Black:  []string{"Ka41", "Se54", "Pe44", "Pe33", "Pf2", "Pf21", "Pf22", "Sa1", "Pa11", "Pb1", "Pb21", "Sb31", "Sb4", "Pb52"},
				White:  []string{"Rb53", "Rb43", "Rb33", "Rb22", "Rc", "Rf", "Re21", "Re32", "Re42", "Bc11", "Be", "Bd42"},
				Text:   []string{"See how between any two pieces, a Bishop may slip.  Whereas a Rook needs a gaping hole."}},
			{Title: "", Width: 50, PosX: 50, PosY: 30, Background: "#f0f0f050",
				Hilite: [][]string{{"c3 c31 c32 c33 d3", "stroke", "#0ff"}},
				Black:  []string{},
				White:  []string{"Rd3", "Rc3", "Bc11", "Ba", "Be1"},
				Text:   []string{"But a Rook has many advantages... first, Rooks can protect one another."}},
			{Title: "", Width: 50, PosX: 50, PosY: 30, Background: "#f0f0f050",
				Black: []string{},
				White: []string{"Rd3", "Rc3", "Bc11", "Ba", "Be1"},
				Text:  []string{"Second, Rooks aren't relagated to just one third of the board; unlike the Bishop that is confined to his color."}},
			{Title: "", Width: 50, PosX: 30, PosY: 15, Background: "#f0f0f050",
				Hilite: [][]string{{"c31 c3 b44 b54 c42 c52 c43 c54 c33 d3 d41 d52 c21 d1 d11 e21 e32 e54 c21 c1 b11 b1 a22 a32 a42", "stroke", "#0ff"}, {"f a1 a31 d21 c22 c31 c4 d42 d51 d54 e4 e31 e55", "stroke", "#f80"}, {"e1 e43 c22 c31 a52", "stroke", "#f8f"}},
				Black:  []string{},
				White:  []string{"Rc32", "Bd33"},
				Text:   []string{"Third, the Rook commands much more of the board. The Rook attacks 28 spaces, vs only 16 for the Bishop."}},
			{Title: "", Width: 60, PosX: 40, PosY: 15, Background: "#f0f0f050",
				Hilite: [][]string{{"e5 d44 d32 e41 e32 c5 c42 c31 b33 b43", "stroke", "#f00"}},
				Black:  []string{"Nc5", "Be5"},
				White:  []string{"Rc2", "Re3"},
				Text:   []string{"Fourth, the Rook can dominate minor pieces single handedly.  The Bishop, at least, has hope of fleeing far away, the Knight is helpless.  Furthermore, they are immediately attacked by the Rook."}},
			{Title: "", Width: 60, PosX: 40, PosY: 15, Background: "#f0f0f050",
				Hilite: [][]string{{"d4 c44 c43 c42 c41 c4 e55", "stroke", "#fb0"}},
				Black:  []string{"Rd51"},
				White:  []string{"Kc5"},
				Text:   []string{"Fifth, the Rook can trap the King by himself."}},
			{Title: "", Width: 60, PosX: 40, PosY: 15, Background: "#f0f0f050",
				Hilite: [][]string{{"c4", "stroke", "#fb0"}},
				Black:  []string{"Rd51", "Pc2"},
				White:  []string{"Kc5"},
				Text:   []string{"Even with the assistance of a pawn, can a Rook checkmate."}},
			{Title: "", Width: 60, PosX: 40, PosY: 45, Background: "#f0f0f050",
				Black: []string{},
				White: []string{"Rc2", "Rd2", "Re2"},
				Text:  []string{"The Rook shares many of the same tactics as the Biship too...."}},
			{Title: "Rook Fork", Width: 65, PosX: 50, PosY: 35, Background: "#500060a0",
				Hilite: [][]string{{"d31 d2 d1 c33 c32 c31", "stroke", "#aff"}, {"c3 d d32", "stroke", "#f44"}},
				Black:  []string{"Pc3", "Pd", "Pd32"},
				White:  []string{"Rd3"},
				Text:   []string{"When the Rook attacks multiple pieces... this is called a fork."},
			},
			{Title: "", Width: 50, PosX: 70, PosY: 90, Background: "#500060a0",
				Hilite: [][]string{{"e52 e22 f31 d22 d11 d c b11 b21 b31 d31 b44 a32 f44", "stroke", "#ff8"}},
				Black:  []string{"Bf11", "Nb41", "Bd33"},
				White:  []string{},
				Text:   []string{"A Rook from any of these positions would fork 2 of Black's pieces."},
			},
			{Title: "", Width: 50, PosX: 65, PosY: 85, Background: "#500060a0",
				Hilite: [][]string{{"d11 b11", "stroke", "#f80"}},
				Black:  []string{"Bf11", "Nb41", "Bd33"},
				White:  []string{},
				Text:   []string{"From these spots, you attack all 3!"},
			},
			{Title: "Rook Pin", Width: 65, PosX: 50, PosY: 35, Background: "#500060a0",
				Hilite: [][]string{{"d31 d2 d1 c33 c32 c31", "stroke", "#aff"}, {"c3 d d32", "stroke", "#f44"}},
				Black:  []string{"Pc3", "Pd", "Pd32"},
				White:  []string{"Rd3"},
				Text:   []string{"When the Rook attacks multiple pieces... this is called a fork."},
			},
			{Title: "Rook Skewer", Width: 65, PosX: 50, PosY: 35, Background: "#500060a0",
				Hilite: [][]string{{"d31 d2 d1 c33 c32 c31", "stroke", "#aff"}, {"c3 d d32", "stroke", "#f44"}},
				Black:  []string{"Pc3", "Pd", "Pd32"},
				White:  []string{"Rd3"},
				Text:   []string{"When the Rook attacks multiple pieces... this is called a fork."},
			},
			{Title: "Knowledge Check", Width: 70, PosX: 40, PosY: 15, Background: "#f0f0f050",
				Black: []string{"Nf", "Pa33", "Pa44", "Pa55", "Pf11", "Sa1", "Bd51"},
				White: []string{"Rb22"},
				Text:  []string{"h2:::Find the places where the Rook may attack the Knight without being taken."},
				Answer: [][]string{{"", "Sorry, but that is incorrect.", "30,75,6,#f80,#00000080"},
					{"a33 a", "Those pesky pawns... nu-uh.", "13,70,6,#f88,#22220080"},
					{"c42 d54 b55", "The Knight... is the horsey-guy.", "13,70,6,#f88,#22220080"},
					{"a1", "See that Bishop?", "63,60,6,#f88,#ffff0080"},
					{"c2 f11 d21", "You got it!", "33,57,6,#0ff,#ffff0030", "+", "3|R|#af0"}},
				Hint: []string{"asdf.||14,30,3,#0f0,#000",
					"?????.||13,30,3,#0f0,#000"},
			},
		},
	},
	"Archer": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Queen": {
		Step: []Step{
			{Title: "Her Royal Highness", Width: 70, PosX: 50, PosY: 50, Background: "#8000f0b0", Order: []string{"menu tutor"},
				Black: []string{},
				White: []string{"Qd1"},
				Text:  []string{"The glorious Queen"}},
			{Title: "Prerequisites", Width: 70, PosX: 50, PosY: 50, Background: "#8000f0b0",
				Black: []string{},
				White: []string{"Pd44", "Sd32", "Nd2", "Bc32", "Rc41"},
				Text:  []string{"Please familiarize yourself with these before continuing this tutorial."},
				Answer: [][]string{{"", "?", "30,75,6,#f80,#00000080"},
					{"d44", "I am a Pawn.  ", "38,60,5,#fff,#88880090"},
					{"d32", "I am a Spearman.   ", "36,60,5,#fff,#88880090"},
					{"d2", "I am a Knight.  ", "38,60,5,#fff,#88880090"},
					{"c32", "I am a Bishop.  ", "37,60,5,#fff,#88880090"},
					{"c41", "I am a Rook.  ", "38,60,5,#fff,#88880090"}},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 30, Background: "#8000f0b0",
				Hilite: [][]string{{"d41", "stroke", "#a0f"}},
				Black:  []string{},
				White:  []string{"Rd54", "Rd5", "Rc52", "Nd53", "Nd51", "Nc33", "Bc53", "Bc55", "Bd52", "Qd41", "Kc44", "Id31", "Ed4", "Pd55", "Pd44", "Pd33", "Pd21", "Pc22", "Pc31", "Pc41", "Pc51", "Sd43", "Sd32", "Sd2", "Sc32", "Sc42", "Ad42", "Ad3", "Ac43"},
				Text:   []string{"h2:::The Queen begins the battle nested deeply within the ranks."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#8000f0b0", Order: []string{"menu tutor"},
				Hilite: [][]string{{"d5 d4 d3 d2 d * a a1 a2 a3 a4 a5 c11 c1 b22 b32 b42 b52 c22 c32 c42 c52 d21 d32 d43 d54 d11 e1 e21 e32 e43 e54", "stroke", "#ff0"}},
				Black:  []string{},
				White:  []string{"Qd1"},
				Text:   []string{"The Queen has all the power of the Rook..."}},
			{Title: "", Width: 70, PosX: 50, PosY: 20, Background: "#8000f0b0", Order: []string{"menu tutor"},
				Hilite: [][]string{{"d5 d4 d3 d2 d * a a1 a2 a3 a4 a5 c11 c1 b22 b32 b42 b52 c22 c32 c42 c52 d21 d32 d43 d54 d11 e1 e21 e32 e43 e54", "stroke", "#ff0"},
					{"c b1 a33 a54 c21 c3 b55 c33 c54 d31 d52 d22 e3 e51 e f1 f31 f52", "stroke", "#8ff"}},
				Black: []string{},
				White: []string{"Qd1"},
				Text:  []string{"...and the Bishop."}},
			{Title: "Knowledge Check", Width: 55, PosX: 70, PosY: 15, Background: "#8000f0b0", Order: []string{"menu tutor"},
				Black: []string{"Nc1"},
				White: []string{"Qd21", "Pc11"},
				Text:  []string{"Considering that a Queen can move as a Bishop and Rook...", "h2:::Find at least 10 spaces to which the Queen can move, that attack that Knight."},
				Answer: [][]string{{"", "The Queen doesn't move there.", "30,75,6,#f80,#00000080"},
					{"f f33 d b a22 c22 c31 c4 c43 d3 d51 e31 e1 f3", "Wow! Great job.  ||Here are the||rest.", "5,70,5,#fff,#8000f0b0", "+||hl|#ff0|f f33 d b a22 c22 c31 c4 c43 d3 d51 e31 e1 f3", "10|Q|#000"}},
			},
			{Title: "Knowledge Check", Width: 55, PosX: 70, PosY: 15, Background: "#8000f0b0", Order: []string{"menu tutor"},
				Black: []string{"Bd2"},
				White: []string{"Qe21"},
				Text:  []string{"h2:::Now, what are the Queen options to attack for that Bishop..."},
				Answer: [][]string{{"", "The Queen doesn't move there.", "20,85,6,#f80,#00000080"},
					{"d11 e11 f2 a44 c32", "Yes, the Queen can attack, but so does the Bishop.", "12,85,4,#fff,#f0000070", "hl|#f00|d11 e11 f2 a44 c32"},
					{"e22 f2 f31 f42 f53 f1 f22 e11 f a11 a22 a33 a44 a55 e c b22 e1 d11 c32 c42 c52 d33 d43 e3 d55 e41 e51 e32 e43 e54 e33 f4", "Where is she going?  ", "12,95,4,#fff,#f0000070"},
					{"a a3 b43 d1 c22 d22 d31 d4 d53 e2 e31 e42", "Outstanding! ||Here are them all. ", "5,35,5,#fff,#8000f0b0", "+||hl|#ff0|a a3 b43 d1 c22 d22 d31 d4 d53 e2 e31 e42", "10|Q|#000"}},
			},
			{Title: "Knowledge Check", Width: 55, PosX: 70, PosY: 15, Background: "#8000f0b0", Order: []string{"menu tutor"},
				Black: []string{"Rc"},
				White: []string{"Qe1"},
				Text:  []string{"What about a Rook...", "h2:::Are there 10 spaces from where a Queen may safely attack?"},
				Answer: [][]string{{"", "The Queen doesn't move there.  ", "20,85,6,#f80,#00000080"},
					{"b a21 c1 c22 c55 d d11 d22 d33 * f f1 f3 ", "Yes, the Queen can attack,  ||but not before the Rook||attacks first.", "6,80,4,#fff,#f0000070"},
					{"e11 f21 f32 f54 a1 a52 b2 b3 b4 b5 b33 b54 b32 b52 c32 d21 d3 d32 d42 d54 e2 e3 e4 e5 e31 e52 e32 e43 e54 e22 f51", "Nature calls? ", "12,95,4,#fff,#f0000070"},
					{"f43 d1 b1 d52 e e21 b1 c42", "Fantastic! Ok, so there ||aren't that many, and||you seem to get the idea.", "5,35,5,#fff,#8000f0b0", "+||hl|#ff0|f43 d1 b1 d52 e e21 b1 c42", "5|Q|#000"}},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#8000f0b0",
				Black: []string{},
				White: []string{"Qd1"},
				Text:  []string{"The Queen is powerful.  You will find she can fork, pin, skewer and just plain dominate many other pieces."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 45, Background: "#8000f0b0",
				Hilite: [][]string{{"d5", "stroke", "#f80"}, {"d4 d51 c55", "stroke", "#f05"}},
				Black:  []string{"Qd3"},
				White:  []string{"Kd5"},
				Text:   []string{"One ability that is unique to her is that she can checkmate all by herself."},
			},
			{Title: "", Width: 70, PosX: 50, PosY: 45, Background: "#8000f0b0",
				Hilite: [][]string{{"d53", "stroke", "#f80"}, {"d42 d43 d52 d54", "stroke", "#f05"}},
				Black:  []string{"Qd32"},
				White:  []string{"Kd53"},
				Text:   []string{"And not just in the corner."},
			},
		},
	},
	"King": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Prince": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Princess": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Special": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Promotion": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Forks": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Skewers": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Pins": {
		Step: []Step{
			{Title: "", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Tactics": {
		Step: []Step{
			{Title: "Tactics", Width: 70, PosX: 50, PosY: 50, Background: "#f0202050",
				Black: []string{},
				White: []string{},
				Text:  []string{""}},
		},
	},
	"Unimplemented": {
		Step: []Step{
			{Title: "Unimplemented", Width: 70, PosX: 50, PosY: 50, Background: "#f020f040",
				Black: []string{},
				White: []string{},
				Text:  []string{"Sorry, perhaps check back later for an update."}},
		},
	},
}

type Thing struct {
	Lesson string `json:"lesson"`
}

func Tutorial(w http.ResponseWriter, r *http.Request) {

	// respDump, err := httputil.DumpRequest(r, true)
	// if err != nil {
	// 	log.Fatal(err)
	// }

	// fmt.Printf("RESPONSE:\n%s", string(respDump))
	var s Thing

	err := json.NewDecoder(r.Body).Decode(&s)

	if err != nil {
		log.Fatalf("Error happened in JSON Decode. Err: %s", err)
		return
	}

	res, err := json.Marshal(Lessons[s.Lesson])
	if err != nil {
		log.Fatalf("Error happened in JSON marshal. Err: %s", err)
		return
	}
	// fmt.Println(string(res))
	utils.CorsHeader(w)
	w.WriteHeader(http.StatusOK)
	w.Write(res)
}
